import{r as i,u as c,a as f,j as t,b as g,y as n,s as h,c as x}from"./index-CTh4XINP.js";import{B as v}from"./Box-0AwRt24s.js";import{P as b}from"./Select-CrBcKFAw.js";import{T as j}from"./Typography-22Vbjyg4.js";import{T as l}from"./TextField-DZ2WNkho.js";import{B as y}from"./Button-Gf5sSqIk.js";import"./useSlotProps-DkXkGTp2.js";import"./createSimplePaletteValueFilter-B4rI7VpO.js";import"./ButtonBase-DRT54j5u.js";const L=()=>{const[s,u]=i.useState(""),[a,m]=i.useState(""),o=c();let d=f();const p=async r=>{if(r.preventDefault(),!s||!a){alert("Please fill in both fields");return}try{const e=await g.post("/api/signin",{email:s,password:a});return n.success(e.data.message,{autoClose:1200}),localStorage.setItem("emstoken",e.data.token),o(h(!0)),o(x(e.data.user)),d("/dashboard")}catch(e){console.log(e),e.response?n.warn(e.response.data.message,{autoClose:1200}):e.request?console.error("No response from server:",e.request):console.error("Error:",e.message)}};return t.jsx(v,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(to bottom, #d0f0c0 50%, #ffffff 50%)"},children:t.jsx(b,{elevation:3,sx:{padding:4,width:320,borderRadius:2},children:t.jsxs("form",{onSubmit:p,children:[t.jsx(j,{variant:"h5",textAlign:"center",gutterBottom:!0,children:"Login"}),t.jsx(l,{label:"Email",type:"email",fullWidth:!0,required:!0,margin:"normal",value:s,onChange:r=>u(r.target.value)}),t.jsx(l,{label:"Password",type:"password",fullWidth:!0,required:!0,margin:"normal",value:a,onChange:r=>m(r.target.value)}),t.jsx(y,{type:"submit",variant:"contained",fullWidth:!0,sx:{marginTop:2},children:"Login"})]})})})};export{L as default};
