import{y as a,b as u,h as d}from"./index-CjW4X5Ur.js";import{d as l}from"./dayjs.min-Dpf_s3do.js";const g=async({isPunchIn:e,inp:s,setisload:r,dispatch:c})=>{r(!1);const t={employeeId:s.employeeId,departmentId:s.departmentId,date:l(s.date).toDate()},n=e?{...t,...s.punchIn?{punchIn:l(s.punchIn).toDate()}:{},status:s.status}:{...t,...s.punchOut?{punchOut:l(s.punchOut).toDate()}:{}},m=e?"/api/checkin":"/api/checkout";try{const o=localStorage.getItem("emstoken"),i=await u.post(m,{...n},{headers:{Authorization:`Bearer ${o}`}});return a.success(i.data.message,{autoClose:1800}),c(d()),!0}catch(o){console.log(o),o.response?a.warn(o.response.data.message,{autoClose:3e3}):o.request?console.error("No response from server:",o.request):console.error("Error:",o.message)}finally{r(!1)}},y=async({attandanceId:e,setisload:s,dispatch:r})=>{if(!e)return a.warning("Attandance Id is needed");const c="/api/deleteattandence";try{const t=localStorage.getItem("emstoken"),n=await u.post(c,{attandanceId:e},{headers:{Authorization:`Bearer ${t}`}});return console.log("delete attandence Query:",n),a.success(n.data.message,{autoClose:1800}),r(d()),!0}catch(t){console.log(t),t.response?a.warn(t.response.data.message,{autoClose:2700}):t.request?console.error("No response from server:",t.request):console.error("Error:",t.message)}finally{s(!1)}},f=[{name:"Name",selector:e=>e.name},{name:"Date",selector:e=>e.date,sortable:!0,width:"110px"},{name:"Punch In",selector:e=>e.punchIn||"- : -"},{name:"Punch Out",selector:e=>e.punchOut||"-"},{name:"Status",selector:e=>e.stat||"-",width:"130px"},{name:"Working Hours",selector:e=>e.workingHours||"-"},{name:"Action",selector:e=>e.action,width:"80px"}],w={headCells:{style:{backgroundColor:"teal",fontWeight:"bold",fontSize:"14px",color:"white",padding:"0px 5px"}},headRow:{style:{}},rows:{style:{minHeight:"48px"}}};export{f as a,w as c,y as d,g as s};
