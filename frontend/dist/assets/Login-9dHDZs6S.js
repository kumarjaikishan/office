import{r as l,u as p,a as f,j as e,b as x,y as i,s as h,c as g}from"./index-D6eprowh.js";import{T as v}from"./Typography-Ckr0zgK-.js";import{T as n}from"./TextField-CqHbrCr8.js";import{B as w}from"./Button-D8pdstAJ.js";import"./Select-B9XRi5ke.js";import"./createSimplePaletteValueFilter-CCWcIbuk.js";import"./useSlotProps-CwI_XqsP.js";import"./ButtonBase-DJxbAmSf.js";const C=()=>{const[r,m]=l.useState(""),[a,u]=l.useState(""),o=p();let c=f();const d=async t=>{if(t.preventDefault(),!r||!a){alert("Please fill in both fields");return}try{const s=await x.post("/api/signin",{email:r,password:a});return i.success(s.data.message,{autoClose:1200}),localStorage.setItem("emstoken",s.data.token),o(h(!0)),o(g(s.data.user)),c("/dashboard")}catch(s){s.response?i.warn(s.response.data.message,{autoClose:1200}):s.request?console.error("No response from server:",s.request):console.error("Error:",s.message)}};return e.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gradient-to-b from-green-200 to-white p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-stretch shadow-lg bg-white rounded-xl overflow-hidden w-full max-w-fit",children:[e.jsx("div",{className:"w-full md:w-[350px] h-[200px] md:h-[400px] flex-shrink-0",children:e.jsx("img",{src:"https://res.cloudinary.com/dusxlxlvm/image/upload/v1756013721/ems/assets/10782895_19199299_1_q2oxsf.svg",alt:"Login Illustration",className:"w-full h-full object-contain md:object-cover"})}),e.jsx("div",{className:"flex items-center justify-center w-full md:w-[300px] p-6",children:e.jsx("div",{className:"w-full",children:e.jsxs("form",{onSubmit:d,children:[e.jsx(v,{variant:"h5",textAlign:"center",gutterBottom:!0,className:"mb-4",children:"Login"}),e.jsx(n,{label:"Email",type:"email",fullWidth:!0,required:!0,margin:"normal",value:r,onChange:t=>m(t.target.value)}),e.jsx(n,{label:"Password",type:"password",fullWidth:!0,required:!0,margin:"normal",value:a,onChange:t=>u(t.target.value)}),e.jsx(w,{type:"submit",variant:"contained",fullWidth:!0,sx:{marginTop:2},children:"Login"})]})})})]})})};export{C as default};
