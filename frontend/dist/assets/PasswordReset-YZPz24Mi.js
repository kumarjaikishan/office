import{r as l,j as e,B as f,aU as g,a as x,b as u,bz as b,y as i}from"./index-1A7JaBJN.js";let p=!1;const j=()=>{p||(console.warn(["MUI: The LoadingButton component functionality is now part of the Button component from Material UI.","","You should use `import Button from '@mui/material/Button'`","or `import { Button } from '@mui/material'`"].join(`
`)),p=!0)},v=l.forwardRef(function(n,s){return j(),e.jsx(f,{ref:s,...n})}),B=()=>{const{token:d}=g(),n=x(),[s,m]=l.useState({pass:"",cpass:""}),[h,o]=l.useState(!1),c=r=>{const{name:a,value:t}=r.target;m({...s,[a]:t})},w=async r=>{r.preventDefault();try{o(!0);const a=await fetch(`/api/setpassword?token=${d}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:s.pass})}),t=await a.json();if(o(!1),!a.ok)return i.warn(t.message,{autoClose:2100});i.success(t.message,{autoClose:1600}),n("/logout")}catch(a){i.warn(a.message,{autoClose:2100}),o(!1)}};return e.jsx("div",{className:"w-full p-2 md:p-4 h-[calc(100vh-64px)] bg-white grid place-items-center",children:e.jsxs("div",{className:" w-full md:w-[300px] rounded-xl overflow-hidden shadow-md",children:[e.jsx("h2",{className:"w-full h-10 leading-10 tracking-wide text-white pl-3 bg-teal-600",children:"Reset Password"}),e.jsxs("form",{onSubmit:w,className:"w-full flex flex-col items-center p-4",children:[e.jsx(u,{required:!0,type:"password",name:"pass",onChange:c,value:s.pass,sx:{width:"98%",mt:2,mb:2},label:"Password",variant:"outlined"}),e.jsx(u,{required:!0,name:"cpass",onChange:c,value:s.cpass,error:s.cpass.length?s.pass!==s.cpass:!1,helperText:s.cpass.length&&s.pass!==s.cpass?"Password must be same":"",sx:{width:"98%",mt:2,mb:2},label:"Confirm Password",variant:"outlined"}),e.jsx(v,{loading:h,disabled:s.pass!==s.cpass||!s.pass.length,loadingPosition:"start",sx:{width:"98%",mt:2,mb:2},startIcon:e.jsx(b,{}),variant:"outlined",type:"submit",children:"Change Password"})]})]})})};export{B as default};
