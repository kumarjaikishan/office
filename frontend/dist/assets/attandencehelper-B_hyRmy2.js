import{f as m,y as r,b as u,v as d,g as l}from"./index-BibUWqKW.js";const g=async({isPunchIn:e,inp:t,setisload:a,dispatch:c})=>{a(!1);const s={employeeId:t.employeeId,date:l(t.date).toDate()},n=e?{...s,...t.punchIn?{punchIn:l(t.punchIn).toDate()}:{},status:t.status}:{...s,...t.punchOut?{punchOut:l(t.punchOut).toDate()}:{}},i=e?"/api/checkin":"/api/checkout";try{const o=localStorage.getItem("emstoken"),p=await u.post(i,{...n},{headers:{Authorization:`Bearer ${o}`}});return r.success(p.data.message,{autoClose:1800}),c(d()),!0}catch(o){console.log(o),o.response?r.warn(o.response.data.message,{autoClose:3e3}):o.request?console.error("No response from server:",o.request):console.error("Error:",o.message)}finally{a(!1)}},y=async({attandanceId:e,setisload:t,dispatch:a})=>{if(!e)return r.warning("Attandance Id is needed");const c="/api/deleteattandence";try{const s=localStorage.getItem("emstoken"),n=await u.post(c,{attandanceId:e},{headers:{Authorization:`Bearer ${s}`}});return console.log("delete attandence Query:",n),r.success(n.data.message,{autoClose:1800}),a(d()),!0}catch(s){console.log(s),s.response?r.warn(s.response.data.message,{autoClose:2700}):s.request?console.error("No response from server:",s.request):console.error("Error:",s.message)}finally{t(!1)}},f=[{name:"Name",selector:e=>e.name},{name:"Date",selector:e=>e.date,sortable:!0,width:"110px"},{name:"Punch In",selector:e=>e.punchIn||"- : -"},{name:"Punch Out",selector:e=>e.punchOut||"-"},{name:"Status",selector:e=>e.stat||"-",width:"100px"},{name:"Working Hours",selector:e=>e.workingHours||"-",width:"210px"},{name:"Action",selector:e=>e.action,width:"80px"}],x=()=>({headCells:{style:{backgroundColor:m(t=>t.user.primaryColor)||"teal",fontWeight:"bold",fontSize:"14px",color:"white",justifyContent:"flex-start",paddingLeft:"4px",paddingRight:"4px"}},headRow:{style:{borderBottom:"2px solid #ccc"}},rows:{style:{minHeight:"48px",borderBottom:"1px solid #eee"}},cells:{style:{justifyContent:"flex-start",paddingLeft:"4px",paddingRight:"4px"}}});export{f as c,y as d,g as s,x as u};
