var ws=Object.defineProperty;var Ts=(t,e,a)=>e in t?ws(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var k=(t,e,a)=>Ts(t,typeof e!="symbol"?e+"":e,a);import{r as g,n as ye,m as ve,o as Ue,j as s,q as Q,t as xe,w as ge,x as gt,v as He,ap as ut,aq as H,h as U,ar as De,T as Qe,B as je,as as yt,a5 as vt,at as Ms,au as Xt,av as js,aw as ot,M as A,ax as rt,ay as Jt,az as Ds,aA as es,g as Ye,ab as Ct,F as Te,I as Oe,S as Me,b as Ve,a3 as At,A as ts,k as ss,l as Ss,aB as kt,y as ze,D as as,aC as Ps,c as Os,u as Is,O as We,i as Le,C as qe,aD as Ns,a6 as Rs,a7 as As,aa as Ls}from"./index-D_KYbKMv.js";import{I as wt,u as Ys,c as Vs,d as Lt,s as Fs}from"./attandencehelper-BpECklSl.js";import{c as dt,s as Ae,a as zs,u as Ie,b as Ee,C as Hs,g as $s,d as Bs,e as _s,f as Tt,h as Ge,i as Re,P as Us,j as Es,k as Fe,l as Ws,S as qs,m as Mt,n as jt,o as Dt,p as lt,q as St,r as Gs,D as ns,t as it,M as Zs,v as Xe,w as os,x as rs,y as u,z as Ks,L as $e}from"./dateViewRenderers-DH8M66sY.js";import{i as Qs}from"./isBetween-CuqivlVY.js";import{u as Xs,a as Js,P as ea,e as ls,b as ta,r as is,c as sa,D as cs}from"./DatePicker-2QhD-_Vb.js";import{A as aa}from"./Autocomplete-Ba-WmU1b.js";import{u as ke,a as na}from"./index-BLpPUisO.js";import{i as oa}from"./isSameOrBefore-CS6OhVKh.js";import{C as Yt}from"./Checkbox-C4YS6mrT.js";import{C as ft}from"./CheckPermission-DhcfYdBq.js";import"./index-BXx8RfSK.js";import"./Chip-5rT33gXM.js";import"./Popper-vo_L67oG.js";import"./SwitchBase-oWCgBBTr.js";const us=g.createContext();function ra(t){return ye("MuiTable",t)}ve("MuiTable",["root","stickyHeader"]);const la=t=>{const{classes:e,stickyHeader:a}=t;return ge({root:["root",a&&"stickyHeader"]},ra,e)},ia=Q("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.stickyHeader&&e.stickyHeader]}})(gt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),Vt="table",ca=g.forwardRef(function(e,a){const n=Ue({props:e,name:"MuiTable"}),{className:l,component:r=Vt,padding:o="normal",size:c="medium",stickyHeader:i=!1,...b}=n,d={...n,component:r,padding:o,size:c,stickyHeader:i},p=la(d),C=g.useMemo(()=>({padding:o,size:c,stickyHeader:i}),[o,c,i]);return s.jsx(us.Provider,{value:C,children:s.jsx(ia,{as:r,role:r===Vt?null:"table",ref:a,className:xe(p.root,l),ownerState:d,...b})})}),mt=g.createContext();function ua(t){return ye("MuiTableBody",t)}ve("MuiTableBody",["root"]);const da=t=>{const{classes:e}=t;return ge({root:["root"]},ua,e)},ma=Q("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),ha={variant:"body"},Ft="tbody",pa=g.forwardRef(function(e,a){const n=Ue({props:e,name:"MuiTableBody"}),{className:l,component:r=Ft,...o}=n,c={...n,component:r},i=da(c);return s.jsx(mt.Provider,{value:ha,children:s.jsx(ma,{className:xe(i.root,l),as:r,ref:a,role:r===Ft?null:"rowgroup",ownerState:c,...o})})});function fa(t){return ye("MuiTableCell",t)}const ba=ve("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),xa=t=>{const{classes:e,variant:a,align:n,padding:l,size:r,stickyHeader:o}=t,c={root:["root",a,o&&"stickyHeader",n!=="inherit"&&`align${He(n)}`,l!=="normal"&&`padding${He(l)}`,`size${He(r)}`]};return ge(c,fa,e)},ga=Q("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`size${He(a.size)}`],a.padding!=="normal"&&e[`padding${He(a.padding)}`],a.align!=="inherit"&&e[`align${He(a.align)}`],a.stickyHeader&&e.stickyHeader]}})(gt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${ba.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Pe=g.forwardRef(function(e,a){const n=Ue({props:e,name:"MuiTableCell"}),{align:l="inherit",className:r,component:o,padding:c,scope:i,size:b,sortDirection:d,variant:p,...C}=n,h=g.useContext(us),y=g.useContext(mt),M=y&&y.variant==="head";let f;o?f=o:f=M?"th":"td";let v=i;f==="td"?v=void 0:!v&&M&&(v="col");const x=p||y&&y.variant,j={...n,align:l,component:f,padding:c||(h&&h.padding?h.padding:"normal"),size:b||(h&&h.size?h.size:"medium"),sortDirection:d,stickyHeader:x==="head"&&h&&h.stickyHeader,variant:x},$=xa(j);let N=null;return d&&(N=d==="asc"?"ascending":"descending"),s.jsx(ga,{as:f,ref:a,className:xe($.root,r),"aria-sort":N,scope:v,ownerState:j,...C})});function ya(t){return ye("MuiTableContainer",t)}ve("MuiTableContainer",["root"]);const va=t=>{const{classes:e}=t;return ge({root:["root"]},ya,e)},Ca=Q("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),ka=g.forwardRef(function(e,a){const n=Ue({props:e,name:"MuiTableContainer"}),{className:l,component:r="div",...o}=n,c={...n,component:r},i=va(c);return s.jsx(Ca,{ref:a,as:r,className:xe(i.root,l),ownerState:c,...o})});function wa(t){return ye("MuiTableHead",t)}ve("MuiTableHead",["root"]);const Ta=t=>{const{classes:e}=t;return ge({root:["root"]},wa,e)},Ma=Q("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),ja={variant:"head"},zt="thead",Da=g.forwardRef(function(e,a){const n=Ue({props:e,name:"MuiTableHead"}),{className:l,component:r=zt,...o}=n,c={...n,component:r},i=Ta(c);return s.jsx(mt.Provider,{value:ja,children:s.jsx(Ma,{as:r,className:xe(i.root,l),ref:a,role:r===zt?null:"rowgroup",ownerState:c,...o})})});function Sa(t){return ye("MuiTableRow",t)}const Ht=ve("MuiTableRow",["root","selected","hover","head","footer"]),Pa=t=>{const{classes:e,selected:a,hover:n,head:l,footer:r}=t;return ge({root:["root",a&&"selected",n&&"hover",l&&"head",r&&"footer"]},Sa,e)},Oa=Q("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.head&&e.head,a.footer&&e.footer]}})(gt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ht.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ht.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),$t="tr",Bt=g.forwardRef(function(e,a){const n=Ue({props:e,name:"MuiTableRow"}),{className:l,component:r=$t,hover:o=!1,selected:c=!1,...i}=n,b=g.useContext(mt),d={...n,component:r,hover:o,selected:c,head:b&&b.variant==="head",footer:b&&b.variant==="footer"},p=Pa(d);return s.jsx(Oa,{as:r,ref:a,className:xe(p.root,l),role:r===$t?null:"row",ownerState:d,...i})});var tt={exports:{}},Ia=tt.exports,_t;function Na(){return _t||(_t=1,(function(t,e){(function(a,n){t.exports=n()})(Ia,(function(){var a="week",n="year";return function(l,r,o){var c=r.prototype;c.week=function(i){if(i===void 0&&(i=null),i!==null)return this.add(7*(i-this.week()),"day");var b=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=o(this).startOf(n).add(1,n).date(b),p=o(this).endOf(a);if(d.isBefore(p))return 1}var C=o(this).startOf(n).date(b).startOf(a).subtract(1,"millisecond"),h=this.diff(C,a,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},c.weeks=function(i){return i===void 0&&(i=null),this.week(i)}}}))})(tt)),tt.exports}var Ra=Na();const Aa=ut(Ra);var st={exports:{}},La=st.exports,Ut;function Ya(){return Ut||(Ut=1,(function(t,e){(function(a,n){t.exports=n()})(La,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d/,r=/\d\d/,o=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,i={},b=function(f){return(f=+f)+(f>68?1900:2e3)},d=function(f){return function(v){this[f]=+v}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),j=60*x[1]+(+x[2]||0);return j===0?0:x[0]==="+"?-j:j})(f)}],C=function(f){var v=i[f];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(f,v){var x,j=i.meridiem;if(j){for(var $=1;$<=24;$+=1)if(f.indexOf(j($,0,v))>-1){x=$>12;break}}else x=f===(v?"pm":"PM");return x},y={A:[c,function(f){this.afternoon=h(f,!1)}],a:[c,function(f){this.afternoon=h(f,!0)}],Q:[l,function(f){this.month=3*(f-1)+1}],S:[l,function(f){this.milliseconds=100*+f}],SS:[r,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[o,d("seconds")],ss:[o,d("seconds")],m:[o,d("minutes")],mm:[o,d("minutes")],H:[o,d("hours")],h:[o,d("hours")],HH:[o,d("hours")],hh:[o,d("hours")],D:[o,d("day")],DD:[r,d("day")],Do:[c,function(f){var v=i.ordinal,x=f.match(/\d+/);if(this.day=x[0],v)for(var j=1;j<=31;j+=1)v(j).replace(/\[|\]/g,"")===f&&(this.day=j)}],w:[o,d("week")],ww:[r,d("week")],M:[o,d("month")],MM:[r,d("month")],MMM:[c,function(f){var v=C("months"),x=(C("monthsShort")||v.map((function(j){return j.slice(0,3)}))).indexOf(f)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[c,function(f){var v=C("months").indexOf(f)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[r,function(f){this.year=b(f)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function M(f){var v,x;v=f,x=i&&i.formats;for(var j=(f=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(Y,z,Z){var B=Z&&Z.toUpperCase();return z||x[Z]||a[Z]||x[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(q,se,ae){return se||ae.slice(1)}))}))).match(n),$=j.length,N=0;N<$;N+=1){var K=j[N],O=y[K],E=O&&O[0],S=O&&O[1];j[N]=S?{regex:E,parser:S}:K.replace(/^\[|\]$/g,"")}return function(Y){for(var z={},Z=0,B=0;Z<$;Z+=1){var q=j[Z];if(typeof q=="string")B+=q.length;else{var se=q.regex,ae=q.parser,ue=Y.slice(B),le=se.exec(ue)[0];ae.call(z,le),Y=Y.replace(le,"")}}return(function(m){var R=m.afternoon;if(R!==void 0){var T=m.hours;R?T<12&&(m.hours+=12):T===12&&(m.hours=0),delete m.afternoon}})(z),z}}return function(f,v,x){x.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(b=f.parseTwoDigitYear);var j=v.prototype,$=j.parse;j.parse=function(N){var K=N.date,O=N.utc,E=N.args;this.$u=O;var S=E[1];if(typeof S=="string"){var Y=E[2]===!0,z=E[3]===!0,Z=Y||z,B=E[2];z&&(B=E[2]),i=this.$locale(),!Y&&B&&(i=x.Ls[B]),this.$d=(function(ue,le,m,R){try{if(["x","X"].indexOf(le)>-1)return new Date((le==="X"?1e3:1)*ue);var T=M(le)(ue),P=T.year,W=T.month,ne=T.day,D=T.hours,G=T.minutes,X=T.seconds,ie=T.milliseconds,ce=T.zone,pe=T.week,me=new Date,he=ne||(P||W?1:me.getDate()),fe=P||me.getFullYear(),be=0;P&&!W||(be=W>0?W-1:me.getMonth());var Ce,oe=D||0,re=G||0,J=X||0,V=ie||0;return ce?new Date(Date.UTC(fe,be,he,oe,re,J,V+60*ce.offset*1e3)):m?new Date(Date.UTC(fe,be,he,oe,re,J,V)):(Ce=new Date(fe,be,he,oe,re,J,V),pe&&(Ce=R(Ce).week(pe).toDate()),Ce)}catch{return new Date("")}})(K,S,O,x),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),Z&&K!=this.format(S)&&(this.$d=new Date("")),i={}}else if(S instanceof Array)for(var q=S.length,se=1;se<=q;se+=1){E[1]=S[se-1];var ae=x.apply(this,E);if(ae.isValid()){this.$d=ae.$d,this.$L=ae.$L,this.init();break}se===q&&(this.$d=new Date(""))}else $.call(this,N)}}}))})(st)),st.exports}var Va=Ya();const Fa=ut(Va);var at={exports:{}},za=at.exports,Et;function Ha(){return Et||(Et=1,(function(t,e){(function(a,n){t.exports=n()})(za,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,l,r){var o=l.prototype,c=o.format;r.en.formats=a,o.format=function(i){i===void 0&&(i="YYYY-MM-DDTHH:mm:ssZ");var b=this.$locale().formats,d=(function(p,C){return p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(h,y,M){var f=M&&M.toUpperCase();return y||C[M]||a[M]||C[f].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(v,x,j){return x||j.slice(1)}))}))})(i,b===void 0?{}:b);return c.call(this,d)}}}))})(at)),at.exports}var $a=Ha();const Ba=ut($a);var nt={exports:{}},_a=nt.exports,Wt;function Ua(){return Wt||(Wt=1,(function(t,e){(function(a,n){t.exports=n()})(_a,(function(){return function(a,n){var l=n.prototype,r=l.format;l.format=function(o){var c=this,i=this.$locale();if(!this.isValid())return r.bind(this)(o);var b=this.$utils(),d=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(p){switch(p){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return i.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return i.ordinal(c.week(),"W");case"w":case"ww":return b.s(c.week(),p==="w"?1:2,"0");case"W":case"WW":return b.s(c.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return b.s(String(c.$H===0?24:c.$H),p==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return p}}));return r.bind(this)(d)}}}))})(nt)),nt.exports}var Ea=Ua();const Wa=ut(Ea);U.extend(Ba);U.extend(Aa);U.extend(Qs);U.extend(Wa);const qa={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Ga={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},bt=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),qt=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class Be{constructor({locale:e,formats:a}={}){k(this,"isMUIAdapter",!0);k(this,"isTimezoneCompatible",!0);k(this,"lib","dayjs");k(this,"escapedCharacters",{start:"[",end:"]"});k(this,"formatTokenMap",qa);k(this,"setLocaleToValue",e=>{const a=this.getCurrentLocaleCode();return a===e.locale()?e:e.locale(a)});k(this,"hasUTCPlugin",()=>typeof U.utc<"u");k(this,"hasTimezonePlugin",()=>typeof U.tz<"u");k(this,"isSame",(e,a,n)=>{const l=this.setTimezone(a,this.getTimezone(e));return e.format(n)===l.format(n)});k(this,"cleanTimezone",e=>{switch(e){case"default":return;case"system":return U.tz.guess();default:return e}});k(this,"createSystemDate",e=>{let a;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const n=U.tz.guess();n==="UTC"?a=U(e):a=U.tz(e,n)}else a=U(e);return this.setLocaleToValue(a)});k(this,"createUTCDate",e=>{if(!this.hasUTCPlugin())throw new Error(bt);return this.setLocaleToValue(U.utc(e))});k(this,"createTZDate",(e,a)=>{if(!this.hasUTCPlugin())throw new Error(bt);if(!this.hasTimezonePlugin())throw new Error(qt);const n=e!==void 0&&!e.endsWith("Z");return this.setLocaleToValue(U(e).tz(this.cleanTimezone(a),n))});k(this,"getLocaleFormats",()=>{const e=U.Ls,a=this.locale||"en";let n=e[a];return n===void 0&&(n=e.en),n.formats});k(this,"adjustOffset",e=>{if(!this.hasTimezonePlugin())return e;const a=this.getTimezone(e);if(a!=="UTC"){const n=e.tz(this.cleanTimezone(a),!0);if(n.$offset===(e.$offset??0))return e;e.$offset=n.$offset}return e});k(this,"date",(e,a="default")=>e===null?null:a==="UTC"?this.createUTCDate(e):a==="system"||a==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(e):this.createTZDate(e,a));k(this,"getInvalidDate",()=>U(new Date("Invalid date")));k(this,"getTimezone",e=>{var a;if(this.hasTimezonePlugin()){const n=(a=e.$x)==null?void 0:a.$timezone;if(n)return n}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"});k(this,"setTimezone",(e,a)=>{if(this.getTimezone(e)===a)return e;if(a==="UTC"){if(!this.hasUTCPlugin())throw new Error(bt);return e.utc()}if(a==="system")return e.local();if(!this.hasTimezonePlugin()){if(a==="default")return e;throw new Error(qt)}return this.setLocaleToValue(U.tz(e,this.cleanTimezone(a)))});k(this,"toJsDate",e=>e.toDate());k(this,"parse",(e,a)=>e===""?null:U(e,a,this.locale,!0));k(this,"getCurrentLocaleCode",()=>this.locale||"en");k(this,"is12HourCycleInCurrentLocale",()=>/A|a/.test(this.getLocaleFormats().LT||""));k(this,"expandFormat",e=>{const a=this.getLocaleFormats(),n=l=>l.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(r,o,c)=>o||c.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(l,r,o)=>{const c=o&&o.toUpperCase();return r||a[o]||n(a[c])})});k(this,"isValid",e=>e==null?!1:e.isValid());k(this,"format",(e,a)=>this.formatByString(e,this.formats[a]));k(this,"formatByString",(e,a)=>this.setLocaleToValue(e).format(a));k(this,"formatNumber",e=>e);k(this,"isEqual",(e,a)=>e===null&&a===null?!0:e===null||a===null?!1:e.toDate().getTime()===a.toDate().getTime());k(this,"isSameYear",(e,a)=>this.isSame(e,a,"YYYY"));k(this,"isSameMonth",(e,a)=>this.isSame(e,a,"YYYY-MM"));k(this,"isSameDay",(e,a)=>this.isSame(e,a,"YYYY-MM-DD"));k(this,"isSameHour",(e,a)=>e.isSame(a,"hour"));k(this,"isAfter",(e,a)=>e>a);k(this,"isAfterYear",(e,a)=>this.hasUTCPlugin()?!this.isSameYear(e,a)&&e.utc()>a.utc():e.isAfter(a,"year"));k(this,"isAfterDay",(e,a)=>this.hasUTCPlugin()?!this.isSameDay(e,a)&&e.utc()>a.utc():e.isAfter(a,"day"));k(this,"isBefore",(e,a)=>e<a);k(this,"isBeforeYear",(e,a)=>this.hasUTCPlugin()?!this.isSameYear(e,a)&&e.utc()<a.utc():e.isBefore(a,"year"));k(this,"isBeforeDay",(e,a)=>this.hasUTCPlugin()?!this.isSameDay(e,a)&&e.utc()<a.utc():e.isBefore(a,"day"));k(this,"isWithinRange",(e,[a,n])=>e>=a&&e<=n);k(this,"startOfYear",e=>this.adjustOffset(e.startOf("year")));k(this,"startOfMonth",e=>this.adjustOffset(e.startOf("month")));k(this,"startOfWeek",e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")));k(this,"startOfDay",e=>this.adjustOffset(e.startOf("day")));k(this,"endOfYear",e=>this.adjustOffset(e.endOf("year")));k(this,"endOfMonth",e=>this.adjustOffset(e.endOf("month")));k(this,"endOfWeek",e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")));k(this,"endOfDay",e=>this.adjustOffset(e.endOf("day")));k(this,"addYears",(e,a)=>this.adjustOffset(e.add(a,"year")));k(this,"addMonths",(e,a)=>this.adjustOffset(e.add(a,"month")));k(this,"addWeeks",(e,a)=>this.adjustOffset(e.add(a,"week")));k(this,"addDays",(e,a)=>this.adjustOffset(e.add(a,"day")));k(this,"addHours",(e,a)=>this.adjustOffset(e.add(a,"hour")));k(this,"addMinutes",(e,a)=>this.adjustOffset(e.add(a,"minute")));k(this,"addSeconds",(e,a)=>this.adjustOffset(e.add(a,"second")));k(this,"getYear",e=>e.year());k(this,"getMonth",e=>e.month());k(this,"getDate",e=>e.date());k(this,"getHours",e=>e.hour());k(this,"getMinutes",e=>e.minute());k(this,"getSeconds",e=>e.second());k(this,"getMilliseconds",e=>e.millisecond());k(this,"setYear",(e,a)=>this.adjustOffset(e.set("year",a)));k(this,"setMonth",(e,a)=>this.adjustOffset(e.set("month",a)));k(this,"setDate",(e,a)=>this.adjustOffset(e.set("date",a)));k(this,"setHours",(e,a)=>this.adjustOffset(e.set("hour",a)));k(this,"setMinutes",(e,a)=>this.adjustOffset(e.set("minute",a)));k(this,"setSeconds",(e,a)=>this.adjustOffset(e.set("second",a)));k(this,"setMilliseconds",(e,a)=>this.adjustOffset(e.set("millisecond",a)));k(this,"getDaysInMonth",e=>e.daysInMonth());k(this,"getWeekArray",e=>{const a=this.startOfWeek(this.startOfMonth(e)),n=this.endOfWeek(this.endOfMonth(e));let l=0,r=a;const o=[];for(;r<n;){const c=Math.floor(l/7);o[c]=o[c]||[],o[c].push(r),r=this.addDays(r,1),l+=1}return o});k(this,"getWeekNumber",e=>e.week());k(this,"getYearRange",([e,a])=>{const n=this.startOfYear(e),l=this.endOfYear(a),r=[];let o=n;for(;this.isBefore(o,l);)r.push(o),o=this.addYears(o,1);return r});this.locale=e,this.formats=H({},Ga,a),U.extend(Fa)}getDayOfWeek(e){return e.day()+1}}const ht=({adapter:t,value:e,timezone:a,props:n})=>{if(e===null)return null;const{minTime:l,maxTime:r,minutesStep:o,shouldDisableTime:c,disableIgnoringDatePartForTimeValidation:i=!1,disablePast:b,disableFuture:d}=n,p=t.date(void 0,a),C=dt(i,t);switch(!0){case!t.isValid(e):return"invalidDate";case!!(l&&C(l,e)):return"minTime";case!!(r&&C(e,r)):return"maxTime";case!!(d&&t.isAfter(e,p)):return"disableFuture";case!!(b&&t.isBefore(e,p)):return"disablePast";case!!(c&&c(e,"hours")):return"shouldDisableTime-hours";case!!(c&&c(e,"minutes")):return"shouldDisableTime-minutes";case!!(c&&c(e,"seconds")):return"shouldDisableTime-seconds";case!!(o&&t.getMinutes(e)%o!==0):return"minutesStep";default:return null}};ht.valueManager=Ae;function Za(t={}){const{enableAccessibleFieldDOMStructure:e=!0,ampm:a}=t;return g.useMemo(()=>({valueType:"time",validator:ht,internal_valueManager:Ae,internal_fieldValueManager:zs,internal_enableAccessibleFieldDOMStructure:e,internal_useApplyDefaultValuesToFieldInternalProps:Qa,internal_useOpenPickerButtonAriaLabel:Ka(a)}),[a,e])}function Ka(t){return function(a){const n=Ie(),l=Ee();return g.useMemo(()=>{const r=t??n.is12HourCycleInCurrentLocale()?"fullTime12h":"fullTime24h",o=n.isValid(a)?n.format(a,r):null;return l.openTimePickerDialogue(o)},[a,l,n])}}function Qa(t){const e=Ie(),a=ds(t),n=g.useMemo(()=>t.ampm??e.is12HourCycleInCurrentLocale(),[t.ampm,e]);return g.useMemo(()=>H({},t,a,{format:t.format??(n?e.formats.fullTime12h:e.formats.fullTime24h)}),[t,a,n,e])}function ds(t){return g.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1}),[t.disablePast,t.disableFuture])}const Xa=t=>{const e=Za(t);return Xs({manager:e,props:t})},Ja=["slots","slotProps","InputProps","inputProps"],ms=g.forwardRef(function(e,a){const n=ke({props:e,name:"MuiTimeField"}),{slots:l,slotProps:r}=n,o=De(n,Ja),c=Js({slotProps:r,ref:a,externalForwardedProps:o}),i=Xa(c);return s.jsx(ea,{slots:l,slotProps:r,fieldResponse:i,defaultOpenPickerIcon:Hs})});function en(t){return ye("MuiPickersToolbarText",t)}ve("MuiPickersToolbarText",["root"]);const tn=["className","classes","selected","value"],sn=t=>ge({root:["root"]},en,t),an=Q(Qe,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,"&[data-selected]":{color:(t.vars||t).palette.text.primary}})),hs=g.forwardRef(function(e,a){const n=ke({props:e,name:"MuiPickersToolbarText"}),{className:l,classes:r,selected:o,value:c}=n,i=De(n,tn),b=sn(r);return s.jsx(an,H({ref:a,className:xe(b.root,l),component:"span",ownerState:n},o&&{"data-selected":!0},i,{children:c}))}),nn=["align","className","classes","selected","typographyClassName","value","variant","width"],on=t=>ge({root:["root"]},$s,t),rn=Q(je,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),Ze=g.forwardRef(function(e,a){const n=ke({props:e,name:"MuiPickersToolbarButton"}),{align:l,className:r,classes:o,selected:c,typographyClassName:i,value:b,variant:d,width:p}=n,C=De(n,nn),h=on(o);return s.jsx(rn,H({variant:"text",ref:a,className:xe(h.root,r),ownerState:n},p?{sx:{width:p}}:{},C,{children:s.jsx(hs,{align:l,className:i,variant:d,value:b,selected:c})}))});function ln(t){return ye("MuiTimePickerToolbar",t)}const Ke=ve("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),cn=["ampm","ampmInClock","className","classes"],un=(t,e)=>{const{pickerOrientation:a,toolbarDirection:n}=e;return ge({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",a==="landscape"&&"hourMinuteLabelLandscape",n==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",a==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},ln,t)},dn=Q(Us,{name:"MuiTimePickerToolbar",slot:"Root"})({}),mn=Q(hs,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),hn=Q("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${Ke.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${Ke.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),pn=Q("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${Ke.ampmLabel}`]:e.ampmLabel},{[`&.${Ke.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Ke.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function fn(t){const e=ke({props:t,name:"MuiTimePickerToolbar"}),{ampm:a,ampmInClock:n,className:l,classes:r}=e,o=De(e,cn),c=Ie(),i=Ee(),b=Bs(),d=un(r,b),{value:p,setValue:C,disabled:h,readOnly:y,view:M,setView:f,views:v}=_s(),x=!!(a&&!n&&v.includes("hours")),{meridiemMode:j,handleMeridiemChange:$}=Tt(p,a,O=>C(O,{changeImportance:"set"})),N=O=>c.isValid(p)?c.format(p,O):"--",K=s.jsx(mn,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:d.separator});return s.jsxs(dn,H({landscapeDirection:"row",toolbarTitle:i.timePickerToolbarTitle,ownerState:b,className:xe(d.root,l)},o,{children:[s.jsxs(hn,{className:d.hourMinuteLabel,ownerState:b,children:[Ge(v,"hours")&&s.jsx(Ze,{tabIndex:-1,variant:"h3",onClick:()=>f("hours"),selected:M==="hours",value:N(a?"hours12h":"hours24h")}),Ge(v,["hours","minutes"])&&K,Ge(v,"minutes")&&s.jsx(Ze,{tabIndex:-1,variant:"h3",onClick:()=>f("minutes"),selected:M==="minutes",value:N("minutes")}),Ge(v,["minutes","seconds"])&&K,Ge(v,"seconds")&&s.jsx(Ze,{variant:"h3",onClick:()=>f("seconds"),selected:M==="seconds",value:N("seconds")})]}),x&&s.jsxs(pn,{className:d.ampmSelection,ownerState:b,children:[s.jsx(Ze,{disableRipple:!0,variant:"subtitle2",selected:j==="am",typographyClassName:d.ampmLabel,value:Re(c,"am"),onClick:y?void 0:()=>$("am"),disabled:h}),s.jsx(Ze,{disableRipple:!0,variant:"subtitle2",selected:j==="pm",typographyClassName:d.ampmLabel,value:Re(c,"pm"),onClick:y?void 0:()=>$("pm"),disabled:h})]})]}))}function ps(t,e){var c;const a=Ie(),n=ke({props:t,name:e}),l=ds(n),r=n.ampm??a.is12HourCycleInCurrentLocale(),o=g.useMemo(()=>{var i;return((i=n.localeText)==null?void 0:i.toolbarTitle)==null?n.localeText:H({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return H({},n,l,{ampm:r,localeText:o},Es({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:H({toolbar:fn},n.slots),slotProps:H({},n.slotProps,{toolbar:H({ampm:r,ampmInClock:n.ampmInClock},(c=n.slotProps)==null?void 0:c.toolbar)})})}function bn(t){return ye("MuiTimeClock",t)}ve("MuiTimeClock",["root","arrowSwitcher"]);const _e=220,Ne=36,Je={x:_e/2,y:_e/2},fs={x:Je.x,y:0},xn=fs.x-Je.x,gn=fs.y-Je.y,yn=t=>t*(180/Math.PI),bs=(t,e,a)=>{const n=e-Je.x,l=a-Je.y,r=Math.atan2(xn,gn)-Math.atan2(n,l);let o=yn(r);o=Math.round(o/t)*t,o%=360;const c=Math.floor(o/t)||0,i=n**2+l**2,b=Math.sqrt(i);return{value:c,distance:b}},vn=(t,e,a=1)=>{const n=a*6;let{value:l}=bs(n,t,e);return l=l*a%60,l},Cn=(t,e,a)=>{const{value:n,distance:l}=bs(30,t,e);let r=n||12;return a?r%=12:l<_e/2-Ne&&(r+=12,r%=24),r};function kn(t){return ye("MuiClockPointer",t)}ve("MuiClockPointer",["root","thumb"]);const wn=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Tn=t=>ge({root:["root"],thumb:["thumb"]},kn,t),Mn=Q("div",{name:"MuiClockPointer",slot:"Root"})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),jn=Q("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Ne/2}px)`,border:`${(Ne-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function Dn(t){const e=ke({props:t,name:"MuiClockPointer"}),{className:a,classes:n,isBetweenTwoClockValues:l,isInner:r,type:o,viewValue:c}=e,i=De(e,wn),b=g.useRef(o);g.useEffect(()=>{b.current=o},[o]);const{ownerState:d}=Fe(),p=H({},d,{isClockPointerAnimated:b.current!==o,isClockPointerBetweenTwoValues:l}),C=Tn(n),h=()=>{let M=360/(o==="hours"?12:60)*c;return o==="hours"&&c>12&&(M-=360),{height:Math.round((r?.26:.4)*_e),transform:`rotateZ(${M}deg)`}};return s.jsx(Mn,H({style:h(),className:xe(C.root,a),ownerState:p},i,{children:s.jsx(jn,{ownerState:p,className:C.thumb})}))}function Sn(t){return ye("MuiClock",t)}ve("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const Pn=(t,e)=>{const a={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",e.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",e.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return ge(a,Sn,t)},On=Q("div",{name:"MuiClock",slot:"Root"})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),In=Q("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Nn=Q("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),Rn=Q("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),An=Q("div",{name:"MuiClock",slot:"Pin"})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),xs=(t,e)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Ne,variants:[{props:{clockMeridiemMode:e},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]}),Ln=Q(vt,{name:"MuiClock",slot:"AmButton"})(({theme:t})=>H({},xs(t,"am"),{position:"absolute",left:8})),Yn=Q(vt,{name:"MuiClock",slot:"PmButton"})(({theme:t})=>H({},xs(t,"pm"),{position:"absolute",right:8})),Gt=Q(Qe,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function Vn(t){const e=ke({props:t,name:"MuiClock"}),{ampm:a,ampmInClock:n,autoFocus:l,children:r,value:o,handleMeridiemChange:c,isTimeDisabled:i,meridiemMode:b,minutesStep:d=1,onChange:p,selectedId:C,type:h,viewValue:y,viewRange:[M,f],disabled:v=!1,readOnly:x,className:j,classes:$}=e,N=Ie(),K=Ee(),{ownerState:O}=Fe(),E=H({},O,{isClockDisabled:v,clockMeridiemMode:b}),S=g.useRef(!1),Y=Pn($,E),z=i(y,h),Z=!a&&h==="hours"&&(y<1||y>12),B=(D,G)=>{v||x||i(D,h)||p(D,G)},q=(D,G)=>{let{offsetX:X,offsetY:ie}=D;if(X===void 0){const pe=D.target.getBoundingClientRect();X=D.changedTouches[0].clientX-pe.left,ie=D.changedTouches[0].clientY-pe.top}const ce=h==="seconds"||h==="minutes"?vn(X,ie,d):Cn(X,ie,!!a);B(ce,G)},se=D=>{S.current=!0,q(D,"shallow")},ae=D=>{S.current&&(q(D,"finish"),S.current=!1),D.preventDefault()},ue=D=>{D.buttons>0&&q(D.nativeEvent,"shallow")},le=D=>{S.current&&(S.current=!1),q(D.nativeEvent,"finish")},m=h==="hours"?!1:y%5!==0,R=h==="minutes"?d:1,T=g.useRef(null);yt(()=>{l&&T.current.focus()},[l]);const P=D=>Math.max(M,Math.min(f,D)),W=D=>(D+(f+1))%(f+1),ne=D=>{if(!S.current)switch(D.key){case"Home":B(M,"partial"),D.preventDefault();break;case"End":B(f,"partial"),D.preventDefault();break;case"ArrowUp":B(W(y+R),"partial"),D.preventDefault();break;case"ArrowDown":B(W(y-R),"partial"),D.preventDefault();break;case"PageUp":B(P(y+5),"partial"),D.preventDefault();break;case"PageDown":B(P(y-5),"partial"),D.preventDefault();break;case"Enter":case" ":B(y,"finish"),D.preventDefault();break}};return s.jsxs(On,{className:xe(Y.root,j),children:[s.jsxs(In,{className:Y.clock,children:[s.jsx(Rn,{onTouchMove:se,onTouchStart:se,onTouchEnd:ae,onMouseUp:le,onMouseMove:ue,ownerState:E,className:Y.squareMask}),!z&&s.jsxs(g.Fragment,{children:[s.jsx(An,{className:Y.pin}),o!=null&&s.jsx(Dn,{type:h,viewValue:y,isInner:Z,isBetweenTwoClockValues:m})]}),s.jsx(Nn,{"aria-activedescendant":C,"aria-label":K.clockLabelText(h,o==null?null:N.format(o,a?"fullTime12h":"fullTime24h")),ref:T,role:"listbox",onKeyDown:ne,tabIndex:0,className:Y.wrapper,children:r})]}),a&&n&&s.jsxs(g.Fragment,{children:[s.jsx(Ln,{onClick:x?void 0:()=>c("am"),disabled:v||b===null,ownerState:E,className:Y.amButton,title:Re(N,"am"),children:s.jsx(Gt,{variant:"caption",className:Y.meridiemText,children:Re(N,"am")})}),s.jsx(Yn,{disabled:v||b===null,onClick:x?void 0:()=>c("pm"),ownerState:E,className:Y.pmButton,title:Re(N,"pm"),children:s.jsx(Gt,{variant:"caption",className:Y.meridiemText,children:Re(N,"pm")})})]})]})}function Fn(t){return ye("MuiClockNumber",t)}const et=ve("MuiClockNumber",["root","selected","disabled"]),zn=["className","classes","disabled","index","inner","label","selected"],Hn=(t,e)=>{const a={root:["root",e.isClockNumberSelected&&"selected",e.isClockNumberDisabled&&"disabled"]};return ge(a,Fn,t)},$n=Q("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${et.disabled}`]:e.disabled},{[`&.${et.selected}`]:e.selected}]})(({theme:t})=>({height:Ne,width:Ne,position:"absolute",left:`calc((100% - ${Ne}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${et.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${et.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:H({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function gs(t){const e=ke({props:t,name:"MuiClockNumber"}),{className:a,classes:n,disabled:l,index:r,inner:o,label:c,selected:i}=e,b=De(e,zn),{ownerState:d}=Fe(),p=H({},d,{isClockNumberInInnerRing:o,isClockNumberSelected:i,isClockNumberDisabled:l}),C=Hn(n,p),h=r%12/12*Math.PI*2-Math.PI/2,y=(_e-Ne-2)/2*(o?.65:1),M=Math.round(Math.cos(h)*y),f=Math.round(Math.sin(h)*y);return s.jsx($n,H({className:xe(C.root,a),"aria-disabled":l?!0:void 0,"aria-selected":i?!0:void 0,role:"option",style:{transform:`translate(${M}px, ${f+(_e-Ne)/2}px`},ownerState:p},b,{children:c}))}const Bn=({ampm:t,value:e,getClockNumberText:a,isDisabled:n,selectedId:l,adapter:r})=>{const o=e?r.getHours(e):null,c=[],i=t?1:0,b=t?12:23,d=p=>o===null?!1:t?p===12?o===12||o===0:o===p||o-12===p:o===p;for(let p=i;p<=b;p+=1){let C=p.toString();p===0&&(C="00");const h=!t&&(p===0||p>12);C=r.formatNumber(C);const y=d(p);c.push(s.jsx(gs,{id:y?l:void 0,index:p,inner:h,selected:y,disabled:n(p),label:C,"aria-label":a(C)},p))}return c},Zt=({adapter:t,value:e,isDisabled:a,getClockNumberText:n,selectedId:l})=>{const r=t.formatNumber;return[[5,r("05")],[10,r("10")],[15,r("15")],[20,r("20")],[25,r("25")],[30,r("30")],[35,r("35")],[40,r("40")],[45,r("45")],[50,r("50")],[55,r("55")],[0,r("00")]].map(([o,c],i)=>{const b=o===e;return s.jsx(gs,{label:c,id:b?l:void 0,index:i+1,inner:!1,disabled:a(o),selected:b,"aria-label":n(c)},o)})},Pt=({value:t,referenceDate:e,adapter:a,props:n,timezone:l})=>{const r=g.useMemo(()=>Ae.getInitialReferenceValue({value:t,adapter:a,props:n,referenceDate:e,granularity:qs.day,timezone:l,getTodayDate:()=>Ws(a,l,"date")}),[e,l]);return t??r},_n=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],Un=t=>ge({root:["root"],arrowSwitcher:["arrowSwitcher"]},bn,t),En=Q(St,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),Wn=Q(Gs,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),qn=["hours","minutes"],Gn=g.forwardRef(function(e,a){const n=Ie(),l=ke({props:e,name:"MuiTimeClock"}),{ampm:r=n.is12HourCycleInCurrentLocale(),ampmInClock:o=!1,autoFocus:c,slots:i,slotProps:b,value:d,defaultValue:p,referenceDate:C,disableIgnoringDatePartForTimeValidation:h=!1,maxTime:y,minTime:M,disableFuture:f,disablePast:v,minutesStep:x=1,shouldDisableTime:j,showViewSwitcher:$,onChange:N,view:K,views:O=qn,openTo:E,onViewChange:S,focusedView:Y,onFocusedViewChange:z,className:Z,classes:B,disabled:q,readOnly:se,timezone:ae}=l,ue=De(l,_n),{value:le,handleValueChange:m,timezone:R}=Mt({name:"TimeClock",timezone:ae,value:d,defaultValue:p,referenceDate:C,onChange:N,valueManager:Ae}),T=Pt({value:le,referenceDate:C,adapter:n,props:l,timezone:R}),P=Ee(),W=jt(R),ne=Ms(),{ownerState:D}=Fe(),{view:G,setView:X,previousView:ie,nextView:ce,setValueAndGoToNextView:pe}=Dt({view:K,views:O,openTo:E,onViewChange:S,onChange:m,focusedView:Y,onFocusedViewChange:z}),{meridiemMode:me,handleMeridiemChange:he}=Tt(T,r,pe),fe=g.useCallback((oe,re)=>{const J=dt(h,n),V=re==="hours"||re==="minutes"&&O.includes("seconds"),L=({start:_,end:w})=>!(M&&J(M,w)||y&&J(_,y)||f&&J(_,W)||v&&J(W,V?w:_)),I=(_,w=1)=>{if(_%w!==0)return!1;if(j)switch(re){case"hours":return!j(n.setHours(T,_),"hours");case"minutes":return!j(n.setMinutes(T,_),"minutes");case"seconds":return!j(n.setSeconds(T,_),"seconds");default:return!1}return!0};switch(re){case"hours":{const _=lt(oe,me,r),w=n.setHours(T,_);if(n.getHours(w)!==_)return!0;const F=n.setSeconds(n.setMinutes(w,0),0),ee=n.setSeconds(n.setMinutes(w,59),59);return!L({start:F,end:ee})||!I(_)}case"minutes":{const _=n.setMinutes(T,oe),w=n.setSeconds(_,0),F=n.setSeconds(_,59);return!L({start:w,end:F})||!I(oe,x)}case"seconds":{const _=n.setSeconds(T,oe);return!L({start:_,end:_})||!I(oe)}default:throw new Error("not supported")}},[r,T,h,y,me,M,x,j,n,f,v,W,O]),be=g.useMemo(()=>{switch(G){case"hours":{const oe=(V,L)=>{const I=lt(V,me,r);pe(n.setHours(T,I),L,"hours")},re=n.getHours(T);let J;return r?re>12?J=[12,23]:J=[0,11]:J=[0,23],{onChange:oe,viewValue:re,children:Bn({value:le,adapter:n,ampm:r,getClockNumberText:P.hoursClockNumberText,isDisabled:V=>q||fe(V,"hours"),selectedId:ne}),viewRange:J}}case"minutes":{const oe=n.getMinutes(T);return{viewValue:oe,onChange:(J,V)=>{pe(n.setMinutes(T,J),V,"minutes")},children:Zt({adapter:n,value:oe,getClockNumberText:P.minutesClockNumberText,isDisabled:J=>q||fe(J,"minutes"),selectedId:ne}),viewRange:[0,59]}}case"seconds":{const oe=n.getSeconds(T);return{viewValue:oe,onChange:(J,V)=>{pe(n.setSeconds(T,J),V,"seconds")},children:Zt({adapter:n,value:oe,getClockNumberText:P.secondsClockNumberText,isDisabled:J=>q||fe(J,"seconds"),selectedId:ne}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[G,n,le,r,P.hoursClockNumberText,P.minutesClockNumberText,P.secondsClockNumberText,me,pe,T,fe,ne,q]),Ce=Un(B);return s.jsxs(En,H({ref:a,className:xe(Ce.root,Z),ownerState:D},ue,{children:[s.jsx(Vn,H({autoFocus:c??!!Y,ampmInClock:o&&O.includes("hours"),value:le,type:G,ampm:r,minutesStep:x,isTimeDisabled:fe,meridiemMode:me,handleMeridiemChange:he,selectedId:ne,disabled:q,readOnly:se},be)),$&&s.jsx(Wn,{className:Ce.arrowSwitcher,slots:i,slotProps:b,onGoToPrevious:()=>X(ie),isPreviousDisabled:!ie,previousLabel:P.openPreviousView,onGoToNext:()=>X(ce),isNextDisabled:!ce,nextLabel:P.openNextView,ownerState:D})]}))});function Zn(t){return ye("MuiDigitalClock",t)}ve("MuiDigitalClock",["root","list","item"]);const Kn=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],Qn=t=>ge({root:["root"],list:["list"],item:["item"]},Zn,t),Xn=Q(St,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:ns,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Jn=Q(Jt,{name:"MuiDigitalClock",slot:"List"})({padding:0}),eo=Q(A,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:t=>t!=="itemValue"&&t!=="formattedValue"})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rt(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:rt(t.palette.primary.main,t.palette.action.focusOpacity)}})),to=g.forwardRef(function(e,a){const n=Ie(),l=g.useRef(null),r=Xt(a,l),o=g.useRef(null),c=ke({props:e,name:"MuiDigitalClock"}),{ampm:i=n.is12HourCycleInCurrentLocale(),timeStep:b=30,autoFocus:d,slots:p,slotProps:C,value:h,defaultValue:y,referenceDate:M,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:v,minTime:x,disableFuture:j,disablePast:$,minutesStep:N=1,shouldDisableTime:K,onChange:O,view:E,openTo:S,onViewChange:Y,focusedView:z,onFocusedViewChange:Z,className:B,classes:q,disabled:se,readOnly:ae,views:ue=["hours"],skipDisabled:le=!1,timezone:m}=c,R=De(c,Kn),{value:T,handleValueChange:P,timezone:W}=Mt({name:"DigitalClock",timezone:m,value:h,defaultValue:y,referenceDate:M,onChange:O,valueManager:Ae}),ne=Ee(),D=jt(W),{ownerState:G}=Fe(),X=H({},G,{hasDigitalClockAlreadyBeenRendered:!!l.current}),ie=Qn(q),ce=(p==null?void 0:p.digitalClockItem)??eo,pe=js({elementType:ce,externalSlotProps:C==null?void 0:C.digitalClockItem,ownerState:X,className:ie.item}),me=Pt({value:T,referenceDate:M,adapter:n,props:c,timezone:W}),he=ot(V=>P(V,"finish","hours")),{setValueAndGoToNextView:fe}=Dt({view:E,views:ue,openTo:S,onViewChange:Y,onChange:he,focusedView:z,onFocusedViewChange:Z}),be=ot(V=>{fe(V,"finish")});yt(()=>{if(l.current===null)return;const V=l.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!V)return;const L=V.offsetTop;(d||z)&&V.focus(),l.current.scrollTop=L-4});const Ce=g.useCallback(V=>{const L=dt(f,n),I=()=>!(x&&L(x,V)||v&&L(V,v)||j&&L(V,D)||$&&L(D,V)),_=()=>n.getMinutes(V)%N!==0?!1:K?!K(V,"hours"):!0;return!I()||!_()},[f,n,x,v,j,D,$,N,K]),oe=g.useMemo(()=>{const V=[];let I=n.startOfDay(me);for(;n.isSameDay(me,I);)V.push(I),I=n.addMinutes(I,b);return V},[me,b,n]),re=oe.findIndex(V=>n.isEqual(V,me)),J=V=>{switch(V.key){case"PageUp":{const L=it(o.current)-5,I=o.current.children,_=Math.max(0,L),w=I[_];w&&w.focus(),V.preventDefault();break}case"PageDown":{const L=it(o.current)+5,I=o.current.children,_=Math.min(I.length-1,L),w=I[_];w&&w.focus(),V.preventDefault();break}}};return s.jsx(Xn,H({ref:r,className:xe(ie.root,B),ownerState:X},R,{children:s.jsx(Jn,{ref:o,role:"listbox","aria-label":ne.timePickerToolbarTitle,className:ie.list,onKeyDown:J,children:oe.map((V,L)=>{const I=Ce(V);if(le&&I)return null;const _=n.isEqual(V,T),w=n.format(V,i?"fullTime12h":"fullTime24h"),ee=re===L||re===-1&&L===0?0:-1;return s.jsx(ce,H({onClick:()=>!ae&&be(V),selected:_,disabled:se||I,disableRipple:ae,role:"option","aria-disabled":ae,"aria-selected":_,tabIndex:ee,itemValue:V,formattedValue:w},pe,{children:w}),`${V.valueOf()}-${w}`)})})}))});function so(t){return ye("MuiMultiSectionDigitalClock",t)}ve("MuiMultiSectionDigitalClock",["root"]);function ao(t){return ye("MuiMultiSectionDigitalClockSection",t)}ve("MuiMultiSectionDigitalClockSection",["root","item"]);const no=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],oo=t=>ge({root:["root"],item:["item"]},ao,t),ro=Q(Jt,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:t})=>({maxHeight:ns,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),lo=Q(A,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:t})=>({padding:8,margin:"2px 4px",width:Zs,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:rt(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:rt(t.palette.primary.main,t.palette.action.focusOpacity)}})),io=g.forwardRef(function(e,a){const n=g.useRef(null),l=Xt(a,n),r=g.useRef(null),o=ke({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:c,onChange:i,className:b,classes:d,disabled:p,readOnly:C,items:h,active:y,slots:M,slotProps:f,skipDisabled:v}=o,x=De(o,no),{ownerState:j}=Fe(),$=H({},j,{hasDigitalClockAlreadyBeenRendered:!!n.current}),N=oo(d),K=(M==null?void 0:M.digitalClockSectionItem)??lo;yt(()=>{if(n.current===null)return;const S=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(y&&c&&S&&S.focus(),!S||r.current===S)return;r.current=S;const Y=S.offsetTop,z=S.offsetHeight,Z=n.current.clientHeight,B=n.current.scrollHeight,q=Y-Z/2+z/2,se=B-Z,ae=Math.min(q,se);n.current.scrollTop=Math.max(0,ae)});const O=h.findIndex(S=>S.isFocused(S.value)),E=S=>{switch(S.key){case"PageUp":{const Y=it(n.current)-5,z=n.current.children,Z=Math.max(0,Y),B=z[Z];B&&B.focus(),S.preventDefault();break}case"PageDown":{const Y=it(n.current)+5,z=n.current.children,Z=Math.min(z.length-1,Y),B=z[Z];B&&B.focus(),S.preventDefault();break}}};return s.jsx(ro,H({ref:l,className:xe(N.root,b),ownerState:$,autoFocusItem:c&&y,role:"listbox",onKeyDown:E},x,{children:h.map((S,Y)=>{var se;const z=(se=S.isDisabled)==null?void 0:se.call(S,S.value),Z=p||z;if(v&&Z)return null;const B=S.isSelected(S.value),q=O===Y||O===-1&&Y===0?0:-1;return s.jsx(K,H({onClick:()=>!C&&i(S.value),selected:B,disabled:Z,disableRipple:C,role:"option","aria-disabled":C||Z||void 0,"aria-label":S.ariaLabel,"aria-selected":B,tabIndex:q,className:N.item},f==null?void 0:f.digitalClockSectionItem,{children:S.label}),S.label)})}))}),co=({now:t,value:e,adapter:a,ampm:n,isDisabled:l,resolveAriaLabel:r,timeStep:o,valueOrReferenceDate:c})=>{const i=e?a.getHours(e):null,b=[],d=(h,y)=>{const M=y??i;return M===null?!1:n?h===12?M===12||M===0:M===h||M-12===h:M===h},p=h=>d(h,a.getHours(c)),C=n?11:23;for(let h=0;h<=C;h+=o){let y=a.format(a.setHours(t,h),n?"hours12h":"hours24h");const M=r(parseInt(y,10).toString());y=a.formatNumber(y),b.push({value:h,label:y,isSelected:d,isDisabled:l,isFocused:p,ariaLabel:M})}return b},Kt=({value:t,adapter:e,isDisabled:a,timeStep:n,resolveLabel:l,resolveAriaLabel:r,hasValue:o=!0})=>{const c=b=>t===null?!1:o&&t===b,i=b=>t===b;return[...Array.from({length:Math.ceil(60/n)},(b,d)=>{const p=n*d;return{value:p,label:e.formatNumber(l(p)),isDisabled:a,isSelected:c,isFocused:i,ariaLabel:r(p.toString())}})]},uo=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],mo=t=>ge({root:["root"]},so,t),ho=Q(St,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:t})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),po=g.forwardRef(function(e,a){const n=Ie(),l=Ds(),r=ke({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeSteps:c,autoFocus:i,slots:b,slotProps:d,value:p,defaultValue:C,referenceDate:h,disableIgnoringDatePartForTimeValidation:y=!1,maxTime:M,minTime:f,disableFuture:v,disablePast:x,minutesStep:j=1,shouldDisableTime:$,onChange:N,view:K,views:O=["hours","minutes"],openTo:E,onViewChange:S,focusedView:Y,onFocusedViewChange:z,className:Z,classes:B,disabled:q,readOnly:se,skipDisabled:ae=!1,timezone:ue}=r,le=De(r,uo),{value:m,handleValueChange:R,timezone:T}=Mt({name:"MultiSectionDigitalClock",timezone:ue,value:p,defaultValue:C,referenceDate:h,onChange:N,valueManager:Ae}),P=Ee(),W=jt(T),ne=g.useMemo(()=>H({hours:1,minutes:5,seconds:5},c),[c]),D=Pt({value:m,referenceDate:h,adapter:n,props:r,timezone:T}),G=ot((L,I,_)=>R(L,I,_)),X=g.useMemo(()=>!o||!O.includes("hours")||O.includes("meridiem")?O:[...O,"meridiem"],[o,O]),{view:ie,setValueAndGoToNextView:ce,focusedView:pe}=Dt({view:K,views:X,openTo:E,onViewChange:S,onChange:G,focusedView:Y,onFocusedViewChange:z}),me=ot(L=>{ce(L,"finish","meridiem")}),{meridiemMode:he,handleMeridiemChange:fe}=Tt(D,o,me,"finish"),be=g.useCallback((L,I)=>{const _=dt(y,n),w=I==="hours"||I==="minutes"&&X.includes("seconds"),F=({start:te,end:de})=>!(f&&_(f,de)||M&&_(te,M)||v&&_(te,W)||x&&_(W,w?de:te)),ee=(te,de=1)=>{if(te%de!==0)return!1;if($)switch(I){case"hours":return!$(n.setHours(D,te),"hours");case"minutes":return!$(n.setMinutes(D,te),"minutes");case"seconds":return!$(n.setSeconds(D,te),"seconds");default:return!1}return!0};switch(I){case"hours":{const te=lt(L,he,o),de=n.setHours(D,te);if(n.getHours(de)!==te)return!0;const Se=n.setSeconds(n.setMinutes(de,0),0),we=n.setSeconds(n.setMinutes(de,59),59);return!F({start:Se,end:we})||!ee(te)}case"minutes":{const te=n.setMinutes(D,L),de=n.setSeconds(te,0),Se=n.setSeconds(te,59);return!F({start:de,end:Se})||!ee(L,j)}case"seconds":{const te=n.setSeconds(D,L);return!F({start:te,end:te})||!ee(L)}default:throw new Error("not supported")}},[o,D,y,M,he,f,j,$,n,v,x,W,X]),Ce=g.useCallback(L=>{switch(L){case"hours":return{onChange:I=>{const _=lt(I,he,o);ce(n.setHours(D,_),"finish","hours")},items:co({now:W,value:m,ampm:o,adapter:n,isDisabled:I=>be(I,"hours"),timeStep:ne.hours,resolveAriaLabel:P.hoursClockNumberText,valueOrReferenceDate:D})};case"minutes":return{onChange:I=>{ce(n.setMinutes(D,I),"finish","minutes")},items:Kt({value:n.getMinutes(D),adapter:n,isDisabled:I=>be(I,"minutes"),resolveLabel:I=>n.format(n.setMinutes(W,I),"minutes"),timeStep:ne.minutes,hasValue:!!m,resolveAriaLabel:P.minutesClockNumberText})};case"seconds":return{onChange:I=>{ce(n.setSeconds(D,I),"finish","seconds")},items:Kt({value:n.getSeconds(D),adapter:n,isDisabled:I=>be(I,"seconds"),resolveLabel:I=>n.format(n.setSeconds(W,I),"seconds"),timeStep:ne.seconds,hasValue:!!m,resolveAriaLabel:P.secondsClockNumberText})};case"meridiem":{const I=Re(n,"am"),_=Re(n,"pm");return{onChange:fe,items:[{value:"am",label:I,isSelected:()=>!!m&&he==="am",isFocused:()=>!!D&&he==="am",ariaLabel:I},{value:"pm",label:_,isSelected:()=>!!m&&he==="pm",isFocused:()=>!!D&&he==="pm",ariaLabel:_}]}}default:throw new Error(`Unknown view: ${L} found.`)}},[W,m,o,n,ne.hours,ne.minutes,ne.seconds,P.hoursClockNumberText,P.minutesClockNumberText,P.secondsClockNumberText,he,ce,D,be,fe]),oe=g.useMemo(()=>{if(!l)return X;const L=X.filter(I=>I!=="meridiem");return L.reverse(),X.includes("meridiem")&&L.push("meridiem"),L},[l,X]),re=g.useMemo(()=>X.reduce((L,I)=>H({},L,{[I]:Ce(I)}),{}),[X,Ce]),{ownerState:J}=Fe(),V=mo(B);return s.jsx(ho,H({ref:a,className:xe(V.root,Z),ownerState:J,role:"group"},le,{children:oe.map(L=>s.jsx(io,{items:re[L].items,onChange:re[L].onChange,active:ie===L,autoFocus:i||pe===L,disabled:q,readOnly:se,slots:b,slotProps:d,skipDisabled:ae,"aria-label":P.selectViewText(L)},L))}))}),xt=({view:t,onViewChange:e,focusedView:a,onFocusedViewChange:n,views:l,value:r,defaultValue:o,referenceDate:c,onChange:i,className:b,classes:d,disableFuture:p,disablePast:C,minTime:h,maxTime:y,shouldDisableTime:M,minutesStep:f,ampm:v,ampmInClock:x,slots:j,slotProps:$,readOnly:N,disabled:K,sx:O,autoFocus:E,showViewSwitcher:S,disableIgnoringDatePartForTimeValidation:Y,timezone:z})=>s.jsx(Gn,{view:t,onViewChange:e,focusedView:a&&Xe(a)?a:null,onFocusedViewChange:n,views:l.filter(Xe),value:r,defaultValue:o,referenceDate:c,onChange:i,className:b,classes:d,disableFuture:p,disablePast:C,minTime:h,maxTime:y,shouldDisableTime:M,minutesStep:f,ampm:v,ampmInClock:x,slots:j,slotProps:$,readOnly:N,disabled:K,sx:O,autoFocus:E,showViewSwitcher:S,disableIgnoringDatePartForTimeValidation:Y,timezone:z}),fo=({view:t,onViewChange:e,focusedView:a,onFocusedViewChange:n,views:l,value:r,defaultValue:o,referenceDate:c,onChange:i,className:b,classes:d,disableFuture:p,disablePast:C,minTime:h,maxTime:y,shouldDisableTime:M,minutesStep:f,ampm:v,slots:x,slotProps:j,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:E,timeSteps:S,skipDisabled:Y,timezone:z})=>s.jsx(to,{view:t,onViewChange:e,focusedView:a&&Xe(a)?a:null,onFocusedViewChange:n,views:l.filter(Xe),value:r,defaultValue:o,referenceDate:c,onChange:i,className:b,classes:d,disableFuture:p,disablePast:C,minTime:h,maxTime:y,shouldDisableTime:M,minutesStep:f,ampm:v,slots:x,slotProps:j,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:E,timeStep:S==null?void 0:S.minutes,skipDisabled:Y,timezone:z}),Qt=({view:t,onViewChange:e,focusedView:a,onFocusedViewChange:n,views:l,value:r,defaultValue:o,referenceDate:c,onChange:i,className:b,classes:d,disableFuture:p,disablePast:C,minTime:h,maxTime:y,shouldDisableTime:M,minutesStep:f,ampm:v,slots:x,slotProps:j,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:E,timeSteps:S,skipDisabled:Y,timezone:z})=>s.jsx(po,{view:t,onViewChange:e,focusedView:a&&os(a)?a:null,onFocusedViewChange:n,views:l.filter(Xe),value:r,defaultValue:o,referenceDate:c,onChange:i,className:b,classes:d,disableFuture:p,disablePast:C,minTime:h,maxTime:y,shouldDisableTime:M,minutesStep:f,ampm:v,slots:x,slotProps:j,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:E,timeSteps:S,skipDisabled:Y,timezone:z}),bo=(t,e,a)=>a?e.filter(n=>!os(n)||n==="hours"):t?[...e,"meridiem"]:e,xo=(t,e)=>1440/((t.hours??1)*(t.minutes??5))<=e;function go({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:a,views:n}){const l=t??24,r=H({hours:1,minutes:5,seconds:5},a),o=xo(r,l);return{thresholdToRenderTimeInASingleColumn:l,timeSteps:r,shouldRenderTimeInASingleColumn:o,views:bo(e,n,o)}}const ys=g.forwardRef(function(e,a){var M,f;const n=Ie(),l=ps(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:r,views:o,timeSteps:c}=go(l),i=r?fo:Qt,b=H({hours:i,minutes:i,seconds:i,meridiem:i},l.viewRenderers),d=l.ampmInClock??!0,C=((M=b.hours)==null?void 0:M.name)===Qt.name?o:o.filter(v=>v!=="meridiem"),h=H({},l,{ampmInClock:d,timeSteps:c,viewRenderers:b,format:rs(n,l),views:r?["hours"]:C,slots:H({field:ms},l.slots),slotProps:H({},l.slotProps,{field:v=>{var x;return H({},es((x=l.slotProps)==null?void 0:x.field,v),ls(l))},toolbar:H({hidden:!0,ampmInClock:d},(f=l.slotProps)==null?void 0:f.toolbar)})}),{renderPicker:y}=ta({ref:a,props:h,valueManager:Ae,valueType:"time",validator:ht,steps:null});return y()});ys.propTypes={ampm:u.bool,ampmInClock:u.bool,autoFocus:u.bool,className:u.string,closeOnSelect:u.bool,defaultValue:u.object,disabled:u.bool,disableFuture:u.bool,disableIgnoringDatePartForTimeValidation:u.bool,disableOpenPicker:u.bool,disablePast:u.bool,enableAccessibleFieldDOMStructure:u.any,format:u.string,formatDensity:u.oneOf(["dense","spacious"]),inputRef:is,label:u.node,localeText:u.object,maxTime:u.object,minTime:u.object,minutesStep:u.number,name:u.string,onAccept:u.func,onChange:u.func,onClose:u.func,onError:u.func,onOpen:u.func,onSelectedSectionsChange:u.func,onViewChange:u.func,open:u.bool,openTo:u.oneOf(["hours","meridiem","minutes","seconds"]),orientation:u.oneOf(["landscape","portrait"]),readOnly:u.bool,reduceAnimations:u.bool,referenceDate:u.object,selectedSections:u.oneOfType([u.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),u.number]),shouldDisableTime:u.func,skipDisabled:u.bool,slotProps:u.object,slots:u.object,sx:u.oneOfType([u.arrayOf(u.oneOfType([u.func,u.object,u.bool])),u.func,u.object]),thresholdToRenderTimeInASingleColumn:u.number,timeSteps:u.shape({hours:u.number,minutes:u.number,seconds:u.number}),timezone:u.string,value:u.object,view:u.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:u.shape({hours:u.func,meridiem:u.func,minutes:u.func,seconds:u.func}),views:u.arrayOf(u.oneOf(["hours","minutes","seconds"]).isRequired)};const vs=g.forwardRef(function(e,a){var b;const n=Ie(),l=ps(e,"MuiMobileTimePicker"),r=H({hours:xt,minutes:xt,seconds:xt},l.viewRenderers),o=l.ampmInClock??!1,c=H({},l,{ampmInClock:o,viewRenderers:r,format:rs(n,l),slots:H({field:ms},l.slots),slotProps:H({},l.slotProps,{field:d=>{var p;return H({},es((p=l.slotProps)==null?void 0:p.field,d),ls(l))},toolbar:H({hidden:!1,ampmInClock:o},(b=l.slotProps)==null?void 0:b.toolbar)})}),{renderPicker:i}=sa({ref:a,props:c,valueManager:Ae,valueType:"time",validator:ht,steps:null});return i()});vs.propTypes={ampm:u.bool,ampmInClock:u.bool,autoFocus:u.bool,className:u.string,closeOnSelect:u.bool,defaultValue:u.object,disabled:u.bool,disableFuture:u.bool,disableIgnoringDatePartForTimeValidation:u.bool,disableOpenPicker:u.bool,disablePast:u.bool,enableAccessibleFieldDOMStructure:u.any,format:u.string,formatDensity:u.oneOf(["dense","spacious"]),inputRef:is,label:u.node,localeText:u.object,maxTime:u.object,minTime:u.object,minutesStep:u.number,name:u.string,onAccept:u.func,onChange:u.func,onClose:u.func,onError:u.func,onOpen:u.func,onSelectedSectionsChange:u.func,onViewChange:u.func,open:u.bool,openTo:u.oneOf(["hours","minutes","seconds"]),orientation:u.oneOf(["landscape","portrait"]),readOnly:u.bool,reduceAnimations:u.bool,referenceDate:u.object,selectedSections:u.oneOfType([u.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),u.number]),shouldDisableTime:u.func,slotProps:u.object,slots:u.object,sx:u.oneOfType([u.arrayOf(u.oneOfType([u.func,u.object,u.bool])),u.func,u.object]),timezone:u.string,value:u.object,view:u.oneOf(["hours","minutes","seconds"]),viewRenderers:u.shape({hours:u.func,minutes:u.func,seconds:u.func}),views:u.arrayOf(u.oneOf(["hours","minutes","seconds"]).isRequired)};const yo=["desktopModeMediaQuery"],ct=g.forwardRef(function(e,a){const n=ke({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:l=Ks}=n,r=De(n,yo);return na(l,{defaultMatches:!0})?s.jsx(ys,H({ref:a},r)):s.jsx(vs,H({ref:a},r))}),vo=({openmodal:t,isPunchIn:e,init:a,setisPunchIn:n,submitHandle:l,setopenmodal:r,isUpdate:o,isload:c,inp:i,setinp:b,setisUpdate:d})=>{const{department:p,employee:C}=Ye(h=>h.user);return g.useEffect(()=>{},[p]),s.jsx(Ct,{open:t,onClose:()=>r(!1),children:s.jsx("div",{className:"membermodal w-[500px]",children:s.jsxs("form",{onSubmit:l,children:[s.jsx("h2",{children:"Mark Attendance"}),s.jsx("span",{className:"modalcontent",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(Te,{sx:{width:"100%"},size:"small",children:[s.jsx(Oe,{id:"demo-simple-select-helper-label",children:"Action"}),s.jsxs(Me,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e,label:"Action",required:!0,onChange:h=>{n(h.target.value)},children:[s.jsx(A,{value:!0,children:"Punch In"}),s.jsx(A,{value:!1,children:"Punch Out"})]})]}),s.jsx($e,{dateAdapter:Be,children:s.jsx(cs,{slotProps:{textField:{size:"small"}},onChange:h=>{b({...i,date:h})},format:"DD-MM-YYYY",value:i==null?void 0:i.date,sx:{width:"100%"},label:"Select date",maxDate:U()})}),s.jsx(aa,{size:"small",fullWidth:!0,value:(C==null?void 0:C.find(h=>h._id===i.employeeId))||null,options:C.filter(h=>h.status!==!1)||[],getOptionLabel:h=>h.userid.name,onChange:(h,y)=>{b({...i,employeeId:y._id})},renderOption:(h,y)=>{const{key:M,...f}=h;return s.jsxs(At,{component:"li",sx:{display:"flex",alignItems:"center",gap:1},...f,children:[s.jsx(ts,{src:ss(y.profileimage,{format:"webp",width:100,height:100}),alt:y.userid.name,children:!y.profileimage&&s.jsx(Ss,{})}),s.jsxs(At,{className:" capitalize",children:[s.jsx(Qe,{variant:"body2",children:y.userid.name}),s.jsx(Qe,{variant:"caption",color:"text.secondary",children:y.designation})]})]},y._id)},renderInput:h=>s.jsx(Ve,{...h,label:"Select Employee",required:!0})}),s.jsxs("div",{className:"flex gap-2 justify-between",children:[e?s.jsx($e,{dateAdapter:Be,children:s.jsx(ct,{disabled:["absent","leave"].includes(i.status),value:i.punchIn,slotProps:{textField:{size:"small"}},onChange:h=>{b({...i,punchIn:h})},sx:{width:"100%"},label:"Punch In"})}):s.jsx($e,{dateAdapter:Be,children:s.jsx(ct,{value:i.punchOut,slotProps:{textField:{size:"small"}},onChange:h=>{b({...i,punchOut:h})},sx:{width:"100%"},label:"Punch Out"})}),e&&s.jsxs(Te,{sx:{width:"100%"},size:"small",children:[s.jsx(Oe,{id:"demo-simple-select-helper-label",children:"Status"}),s.jsxs(Me,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:i.status,label:"Status",required:!0,onChange:h=>{b({...i,status:h.target.value})},children:[s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})]})]}),i.status=="leave"&&s.jsx(Ve,{fullWidth:!0,required:!0,multiline:!0,onChange:h=>{b({...i,reason:h.target.value})},minRows:2,value:i.reason,label:"Reason",size:"small"}),s.jsxs("div",{className:"w-full flex gap-2",children:[s.jsx(je,{size:"small",onClick:()=>{r(!1),d(!1),b(a)},variant:"outlined",children:" cancel"}),!o&&s.jsx(je,{loading:c,loadingPosition:"end",endIcon:s.jsx(wt,{}),variant:"contained",type:"submit",children:"Add"})]})]})})]})})})},Co=async t=>{const e=await fetch("/api/bulkMarkAttendance",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("emstoken")}`,"Content-Type":"application/json"},body:JSON.stringify({attendanceRecords:t})});if(!e.ok)throw new Error("Failed to submit attendance");return e.json()},ko=({openmodal:t,init:e,setopenmodal:a,isUpdate:n,isload:l,setinp:r,setisUpdate:o,dispatch:c})=>{var ue,le;const i=Ye(m=>m.user.profile),b=Ye(m=>m.user.attandence),d=Ye(m=>m.user.employee),p=Ye(m=>m.user.branch),C=Ye(m=>m.user.department),[h,y]=g.useState([]),[M,f]=g.useState({}),[v,x]=g.useState("all"),[j,$]=g.useState("all"),[N,K]=g.useState(U()),[O,E]=g.useState({punchIn:null,punchOut:null,status:""}),S=g.useMemo(()=>{const m=new Map;return d==null||d.forEach(R=>m.set(R._id,R)),m},[d]),Y=g.useMemo(()=>{if(!N||!b)return new Map;const m=new Map,R=U(N).format("YYYY-MM-DD");return b.forEach(T=>{U(T.date).format("YYYY-MM-DD")===R&&m.set(T.employeeId._id,T)}),m},[N,b]),z=g.useMemo(()=>d?d.filter(m=>{var W;const R=m.status!==!1,T=v!=="all"?m.branchId===v:!0,P=j!=="all"?((W=m.department)==null?void 0:W._id)===j:!0;return T&&P&&R}):[],[d,v,j]);g.useEffect(()=>{if(!t||!d)return;const m={},R=[];d.forEach(T=>{const P=Y.get(T._id);P?(R.push(T._id),m[T._id]={punchIn:P.punchIn?U(P.punchIn).format("HH:mm"):null,punchOut:P.punchOut?U(P.punchOut).format("HH:mm"):null,status:P.status||"absent"}):m[T._id]={punchIn:null,punchOut:null,status:"absent"}}),f(m),y(R)},[t,d,Y]),g.useEffect(()=>{O&&(f(m=>{const R={...m};return z.forEach(T=>{R[T._id]={...R[T._id],...O.punchIn&&{punchIn:O.punchIn},...O.punchOut&&{punchOut:O.punchOut},...O.status&&{status:O.status}}}),R}),y(z.map(m=>m._id)))},[O,z]);const Z=g.useCallback(m=>{y(R=>R.includes(m)?R.filter(T=>T!==m):[...R,m])},[]),B=g.useCallback(m=>{m.target.checked?y(z.map(R=>R._id)):y([])},[z]),q=g.useCallback((m,R,T)=>{f(P=>({...P,[m]:{...P[m],[R]:T,status:["weekly off","holiday","half day"].includes(P[m].status)?P[m].status:"present"}})),y(P=>P.includes(m)?P:[...P,m])},[]),se=g.useCallback((m,R)=>{f(T=>({...T,[m]:{...T[m],status:R}})),y(T=>T.includes(m)?T:[...T,m])},[]),ae=g.useCallback(async m=>{if(m.preventDefault(),h.length===0){ze.info("Please Mark at least one employee.");return}const R=N.format("YYYY-MM-DD"),T=h.map(P=>{const W=M[P];if(!W)return null;const{punchIn:ne,punchOut:D,status:G}=W,X=S.get(P);if(!X)return null;const ie={employeeId:P,empId:X.empId,status:G,branchId:X.branchId,date:N.toISOString()};return ne&&(ie.punchIn=new Date(`${R}T${ne}`).toISOString()),D&&(ie.punchOut=new Date(`${R}T${D}`).toISOString()),ie}).filter(Boolean);if(T.length===0){ze.info("No valid attendance data to submit.");return}try{o(!0),await Co(T),c(as()),y([]),K(U()),a(!1),o(!1),ze.success("Attendance marked successfully.")}catch(P){console.error("Bulk Attendance Error:",P),ze.error("Failed to mark attendance."),o(!1)}},[h,M,S,N,c,o,a]);return s.jsx(Ct,{open:t,outside:!1,onClose:()=>a(!1),children:s.jsx("div",{className:"membermodal w-[600px] md:w-[800px]",children:s.jsxs("form",{onSubmit:ae,children:[s.jsx("div",{className:"modalhead",children:"Bulk Mark Attendance"}),s.jsx("span",{className:"modalcontent overflow-x-auto",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"w w-full flex justify-between gap-2",children:[s.jsxs(Te,{size:"small",fullWidth:!0,children:[s.jsx(Oe,{children:"Select Branch"}),s.jsxs(Me,{label:"Select Branch",value:v,onChange:m=>x(m.target.value),children:[s.jsx(A,{value:"all",children:s.jsx("em",{children:"All"})}),(i==null?void 0:i.role)==="manager"?(ue=p==null?void 0:p.filter(m=>{var R;return(R=i==null?void 0:i.branchIds)==null?void 0:R.includes(m._id)}))==null?void 0:ue.map(m=>s.jsx(A,{value:m._id,children:m.name},m._id)):p==null?void 0:p.map(m=>s.jsxs(A,{value:m._id,children:[" ",m.name," "]},m._id))]})]}),s.jsxs(Te,{size:"small",disabled:v==="all",fullWidth:!0,children:[s.jsx(Oe,{children:"Select Department"}),s.jsxs(Me,{label:"Select Department",value:j,onChange:m=>$(m.target.value),children:[s.jsx(A,{value:"all",children:s.jsx("em",{children:"All"})}),(le=v!=="all"?C.filter(m=>m.branchId._id===v):C)==null?void 0:le.map((m,R)=>s.jsx(A,{value:m._id,children:m.department},R))]})]}),s.jsx($e,{dateAdapter:Be,children:s.jsx(cs,{slotProps:{textField:{size:"small"}},onChange:m=>K(m),format:"DD-MM-YYYY",value:N,sx:{width:"100%"},label:"Select date",maxDate:U()})})]}),s.jsxs("div",{className:"relative border-dashed border border-primary rounded-md w-full grid grid-cols-1 md:grid-cols-3 gap-4 p-2 pt-4",children:[s.jsx("span",{className:"absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-medium text-primary",children:"Apply To All Fields"}),s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 text-left",children:"Punch In"}),s.jsx("input",{type:"time",className:"w-full form-input outline-0 border border-primary border-dashed p-2 rounded",value:O.punchIn||"",onChange:m=>E({...O,punchIn:m.target.value})})]}),s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 text-left",children:"Punch Out"}),s.jsx("input",{type:"time",className:"w-full form-input outline-0 border border-primary border-dashed p-2 rounded",value:O.punchOut||"",onChange:m=>E({...O,punchOut:m.target.value})})]}),s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 text-left",children:"Status"}),s.jsx(Te,{size:"small",className:"w-full",children:s.jsxs(Me,{value:O.status,onChange:m=>E({...O,status:m.target.value}),className:"w-full",children:[s.jsx(A,{value:"",children:"Select Status"}),s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly Off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})})]})]}),s.jsx("div",{className:"border border-dashed border-primary rounded w-full",children:s.jsx(ka,{component:Ps,children:s.jsxs(ca,{size:"small",children:[s.jsx(Da,{children:s.jsxs(Bt,{children:[s.jsx(Pe,{padding:"checkbox",children:s.jsx(Yt,{onChange:B,checked:h.length>0&&h.length===z.length,indeterminate:h.length>0&&h.length<z.length})}),s.jsx(Pe,{children:"Employee Name"}),s.jsx(Pe,{children:"Punch In"}),s.jsx(Pe,{children:"Punch Out"}),s.jsx(Pe,{children:"Status"})]})}),s.jsx(pa,{children:z==null?void 0:z.slice(0,10).map(m=>{var R,T,P;return s.jsxs(Bt,{children:[s.jsx(Pe,{padding:"checkbox",children:s.jsx(Yt,{checked:h.includes(m._id),onChange:()=>Z(m._id)})}),s.jsx(Pe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ts,{alt:m.userid.name,src:ss(m.profileimage,{format:"webp",width:100,height:100}),sx:{width:30,height:30}}),s.jsx(Qe,{variant:"body2",children:m.userid.name})]})}),s.jsx(Pe,{children:s.jsx("input",{type:"time",className:"form-input outline-0 border-1 border-primary border-dashed p-1 rounded",value:((R=M[m._id])==null?void 0:R.punchIn)||"",onChange:W=>q(m._id,"punchIn",W.target.value)})}),s.jsx(Pe,{children:s.jsx("input",{type:"time",className:"form-input outline-0 border-1 border-primary border-dashed p-1 rounded",value:((T=M[m._id])==null?void 0:T.punchOut)||"",onChange:W=>q(m._id,"punchOut",W.target.value)})}),s.jsx(Pe,{children:s.jsx(Te,{fullWidth:!0,size:"small",children:s.jsxs(Me,{value:((P=M[m._id])==null?void 0:P.status)??"",onChange:W=>se(m._id,W.target.value),children:[s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})})})]},m._id)})})]})})})]})}),s.jsxs("div",{className:"modalfooter",children:[s.jsx(je,{size:"small",onClick:()=>{a(!1),o(!1),r(e)},variant:"outlined",children:"Cancel"}),s.jsx(je,{loading:l,loadingPosition:"end",endIcon:s.jsx(wt,{}),variant:"contained",type:"submit",children:n?"Update":"Add"})]})]})})})},wo=kt.memo(ko),To=({openmodal:t,setisload:e,dispatch:a,isPunchIn:n,init:l,setisPunchIn:r,submitHandle:o,setopenmodal:c,isUpdate:i,isload:b,inp:d,setinp:p,setisUpdate:C})=>{const h=async y=>{y.preventDefault();const M="/api/editattandence";try{e(!0);const f=localStorage.getItem("emstoken"),v=await Os.post(M,{...d},{headers:{Authorization:`Bearer ${f}`}});return ze.success(v.data.message,{autoClose:1800}),p(l),c(!1),a(as()),!0}catch(f){console.log(f),f.response?ze.warn(f.response.data.message,{autoClose:2700}):f.request?console.error("No response from server:",f.request):console.error("Error:",f.message)}finally{e(!1)}};return g.useEffect(()=>{["weekly off","holiday","half day"].includes(d.status)||(d.punchIn||d.punchOut)&&p({...d,status:"present"})},[d.punchIn]),s.jsx(Ct,{open:t,onClose:()=>c(!1),children:s.jsx("div",{className:"membermodal",children:s.jsxs("form",{onSubmit:h,children:[s.jsx("h2",{children:"Edit Attendance"}),s.jsx("span",{className:"modalcontent",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Ve,{fullWidth:!0,InputLabelProps:{shrink:!0},value:d.date,label:"Attandence Date",size:"small"}),s.jsx(Ve,{fullWidth:!0,value:d.employeeName,label:"Name",size:"small"}),s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx($e,{dateAdapter:Be,children:s.jsx(ct,{value:d.punchIn,disabled:["absent","leave"].includes(d.status),slotProps:{textField:{size:"small"}},onChange:y=>{p({...d,punchIn:y})},sx:{width:"100%"},label:"Punch In"})}),s.jsx($e,{dateAdapter:Be,children:s.jsx(ct,{value:d.punchOut,disabled:["absent","leave"].includes(d.status),slotProps:{textField:{size:"small"}},onChange:y=>{p({...d,punchOut:y})},sx:{width:"100%"},label:"Punch Out"})}),s.jsxs(Te,{sx:{width:"100%"},size:"small",children:[s.jsx(Oe,{id:"demo-simple-select-helper-label",children:"Status"}),s.jsxs(Me,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d.status,name:"status",label:"Status",required:!0,onChange:y=>{p({...d,status:y.target.value})},children:[s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})]})]}),d.status=="leave"&&s.jsx(Ve,{fullWidth:!0,multiline:!0,required:!0,onChange:y=>{p({...d,leaveReason:y.target.value})},minRows:2,value:d.leaveReason,label:"Reason",size:"small"}),s.jsxs("div",{className:"w-full flex gap-2",children:[s.jsx(je,{size:"small",onClick:()=>{c(!1),C(!1),p(l)},variant:"outlined",children:" cancel"}),s.jsx(je,{loading:b,loadingPosition:"end",endIcon:s.jsx(wt,{}),variant:"contained",type:"submit",children:"Update"})]})]})})]})})})};U.extend(oa);const Bo=()=>{const[t,e]=g.useState(!1),[a,n]=g.useState(!1),[l,r]=g.useState(!1),[o,c]=g.useState(!1),[i,b]=g.useState(!0),[d,p]=g.useState(!1),[C,h]=g.useState(!1),{branch:y,attandence:M,department:f,company:v,holidays:x,profile:j}=Ye(w=>w.user),[$,N]=g.useState([]),[K,O]=g.useState([]),E=Is(),S=Ys(),[Y,z]=g.useState({column:null,direction:null}),[Z,B]=g.useState(!1),q={employeeId:"",date:U(),punchIn:null,punchOut:null,status:"",reason:""},se={id:"",employeeName:"",date:U(),punchIn:null,punchOut:null,status:"",leaveid:"",leaveReason:""};g.useEffect(()=>{},[$]);const[ae,ue]=g.useState(q),[le,m]=g.useState(se),R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];g.useEffect(()=>{if(!x)return;const w=[];x.forEach(F=>{let ee=U(F.fromDate);const te=F.toDate?U(F.toDate):ee;for(;ee.isSameOrBefore(te,"day");)w.push(ee.format("DD/MM/YYYY")),ee=ee.add(1,"day")}),O(w)},[x]);const T=g.useCallback(w=>{const F=Math.floor(w/60),ee=w%60;return`${F}h ${ee}m`},[]),P=ft("attandence",2),W=ft("attandence",3),ne=ft("attandence",4),D=g.useMemo(()=>{if(!M)return[];const w=U().startOf("day");return M.map(F=>({...F,parsedDate:U(F.date)})).filter(F=>!U(F.date).isAfter(w,"day"))},[M]),[G,X]=g.useState({date:"",branch:"all",departmente:"all",employee:"",status:"all",month:"all",year:"all"}),ie=g.useMemo(()=>{const w=U();return D.filter(F=>{var Ot,It,Nt,Rt;const ee=F.parsedDate;if(ee.isAfter(w,"day"))return!1;const te=!G.date||ee.isSame(G.date,"day"),de=G.month==="all"||ee.month()===Number(G.month),Se=G.year==="all"||ee.year()===Number(G.year),we=G.branch==="all"||F.branchId===G.branch,pt=G.departmente==="all"||((Ot=F==null?void 0:F.employeeId)==null?void 0:Ot.department)===G.departmente,Cs=G.status==="all"||F.status===G.status,ks=!G.employee.trim()||((Rt=(Nt=(It=F==null?void 0:F.employeeId)==null?void 0:It.userid)==null?void 0:Nt.name)==null?void 0:Rt.toLowerCase().includes(G.employee.trim().toLowerCase()));return te&&we&&pt&&Cs&&ks&&de&&Se})},[D,G]),ce=g.useMemo(()=>Y.column?[...ie].sort((w,F)=>{const ee=w[Y.column],te=F[Y.column];return Y.direction==="asc"?ee>te?1:-1:ee<te?1:-1}):ie,[ie,Y]),pe=()=>{let w=$.map(F=>F._id);swal({title:`Are you sure you want to Delete these ${w.length} record?`,icon:"warning",buttons:!0,dangerMode:!0}).then(async F=>{F&&(await Lt({attandanceId:w,setselectedRows:N,setisload:r,dispatch:E}),ce.filter(ee=>!w.includes(ee._id)),N([]))})},me=g.useCallback((w,F)=>{z({column:w.id,direction:F})},[]),he=g.useCallback(({selectedRows:w})=>{N(w)},[]),fe=w=>{var F,ee,te,de;m({id:w._id,employeeName:((ee=(F=w==null?void 0:w.employeeId)==null?void 0:F.userid)==null?void 0:ee.name)||"",date:U(w.date).format("DD MMM, YYYY"),punchIn:w.punchIn?U(w.punchIn):null,punchOut:w.punchOut?U(w.punchOut):null,status:w.status||"",leaveid:(te=w==null?void 0:w.leave)==null?void 0:te._id,leaveReason:(de=w==null?void 0:w.leave)==null?void 0:de.reason}),p(!0)},be=async w=>{swal({title:"Are you sure you want to Delete this record?",icon:"warning",buttons:!0,dangerMode:!0}).then(async F=>{F&&(await Lt({attandanceId:[w],setisload:r,dispatch:E}),N([]))})},Ce=[{when:w=>w.remarks,style:{backgroundColor:"rgba(21, 233, 233, 0.1)",color:"teal"}}],oe=()=>{const w=["S.no","Name","Date","Punch In","Punch Out","Status","Working Minutes"],F=ce.map((we,pt)=>[pt+1,we.rawname,U(we.date).format("YYYY-MM-DD"),we.rawpunchIn,we.rawpunchOut,we.status,we.rawworkingHour]),ee=[w,...F].map(we=>we.join(",")).join(`
`),te=new Blob([ee],{type:"text/csv"}),de=URL.createObjectURL(te),Se=document.createElement("a");Se.href=de,Se.download="Attendance List.csv",Se.click(),URL.revokeObjectURL(de)},re=async w=>{w.preventDefault(),await Fs({isPunchIn:i,inp:ae,setisload:r,dispatch:E})&&(c(!1),ue(q))},[J,V]=g.useState(G.employee||"");g.useEffect(()=>{if(J===G.employee)return;B(!0);const w=setTimeout(()=>{X(F=>({...F,employee:J})),B(!1)},700);return()=>clearTimeout(w)},[J,X]);const L=g.useCallback(()=>{c(!0)},[]),I=g.useCallback(()=>{h(!0)},[]),_=g.useMemo(()=>Vs({branch:y,company:v,holidaydate:K,minutesinhours:T,canEdit:W,canDelete:ne,edite:fe,deletee:be}),[y,v,K,T,W,ne,fe,be]);return s.jsxs("div",{className:"p-1 max-w-6xl mx-auto ",children:[s.jsx(Mo,{markattandence:t,setmarkattandence:e,canAdd:P,selectedRows:$,multidelete:pe,exportCSV:oe,openModal:L,openBulkModal:I,filtere:G,setfiltere:X,branch:y,department:f,profile:j,months:R,inputValue:J,setInputValue:V,loading:Z}),s.jsx("div",{className:"capitalize ",children:s.jsx(jo,{memoColumns:_,finalData:ce,handleSort:me,customStyles:S,conditionalRowStyles:Ce,handleRowSelect:he,selectedRows:$})}),s.jsx(vo,{isPunchIn:i,setisPunchIn:b,submitHandle:re,init:q,openmodal:o,inp:ae,setinp:ue,setopenmodal:c,isUpdate:a,setisUpdate:n,isload:l}),s.jsx(To,{dispatch:E,setisload:r,submitHandle:re,init:se,openmodal:d,inp:le,setinp:m,setopenmodal:p,isUpdate:a,setisUpdate:n,isload:l}),s.jsx(wo,{isPunchIn:i,dispatch:E,setisPunchIn:b,submitHandle:re,init:q,openmodal:C,inp:ae,setinp:ue,setopenmodal:h,isUpdate:a,setisUpdate:n,isload:l})]})},Mo=kt.memo(({markattandence:t,setmarkattandence:e,canAdd:a,selectedRows:n,multidelete:l,exportCSV:r,openModal:o,openBulkModal:c,filtere:i,setfiltere:b,branch:d,department:p,profile:C,months:h,inputValue:y,setInputValue:M,loading:f})=>{var v;return s.jsxs("div",{className:"bg-white flex flex-col rounded mb-4 shadow-xl p-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap",children:[s.jsxs("div",{className:"flex w-full md:w-auto p-1 items-center gap-2 rounded bg-primary text-white",children:[s.jsx("p",{onClick:()=>e(!1),className:`px-2 py-1 rounded cursor-pointer ${!t&&"text-primary bg-white"}`,children:"View Attendance"}),a&&s.jsx("p",{onClick:()=>e(!0),className:`px-2 py-1 rounded cursor-pointer ${t&&"text-primary bg-white"}`,children:"Mark Attendance"})]}),s.jsxs("div",{className:"flex w-full md:w-[320px] gap-2",children:[n.length>0&&s.jsxs(je,{className:"flex-1",variant:"contained",onClick:l,color:"error",children:["Delete (",n.length,")"]}),s.jsx(je,{onClick:r,className:"flex-1",variant:"outlined",children:"Export"})]})]}),t?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{variant:"contained",onClick:o,children:"Mark Individual"}),s.jsx(je,{variant:"outlined",onClick:c,children:"Mark Bulk"})]}):s.jsxs("div",{className:"border-1 border-gray-400 rounded p-3 md:p-0 md:border-0 grid grid-cols-2 md:grid-cols-7 gap-2 mt-1 w-full md:w-fit",children:[s.jsx(Ve,{size:"small",type:"date",className:"col-span-2 md:col-span-1 md:w-[150px]",value:i.date,onChange:x=>b({...i,date:x.target.value}),label:"Select Date",InputLabelProps:{shrink:!0}}),s.jsxs(Te,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Oe,{children:"Branch"}),s.jsxs(Me,{value:i.branch,input:s.jsx(We,{startAdornment:s.jsx(Le,{position:"start",children:s.jsx(qe,{fontSize:"small"})}),label:"Branch"}),onChange:x=>b({...i,branch:x.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),(C==null?void 0:C.role)==="manager"?(v=d==null?void 0:d.filter(x=>{var j;return(j=C==null?void 0:C.branchIds)==null?void 0:j.includes(x._id)}))==null?void 0:v.map(x=>s.jsx(A,{value:x._id,children:x.name},x._id)):d==null?void 0:d.map(x=>s.jsxs(A,{value:x._id,children:[" ",x.name," "]},x._id))]})]}),s.jsxs(Te,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Oe,{children:"Department"}),s.jsxs(Me,{value:i.departmente,disabled:i.branch==="all",input:s.jsx(We,{startAdornment:s.jsx(Le,{position:"start",children:s.jsx(qe,{fontSize:"small"})}),label:"Department"}),onChange:x=>b({...i,departmente:x.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),p==null?void 0:p.filter(x=>{var j;return((j=x.branchId)==null?void 0:j._id)===i.branch}).map(x=>s.jsx(A,{value:x._id,children:x.department},x._id))]})]}),s.jsxs(Te,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Oe,{children:"Status"}),s.jsxs(Me,{value:i.status,input:s.jsx(We,{startAdornment:s.jsx(Le,{position:"start",children:s.jsx(qe,{fontSize:"small"})}),label:"Status"}),onChange:x=>b({...i,status:x.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})]}),s.jsxs(Te,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Oe,{children:"Month"}),s.jsxs(Me,{value:i.month,input:s.jsx(We,{startAdornment:s.jsx(Le,{position:"start",children:s.jsx(qe,{fontSize:"small"})}),label:"Branch"}),label:"Month",onChange:x=>b({...i,month:x.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),h.map((x,j)=>s.jsx(A,{value:j,children:x},j))]})]}),s.jsxs(Te,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Oe,{children:"Year"}),s.jsxs(Me,{value:i.year,input:s.jsx(We,{startAdornment:s.jsx(Le,{position:"start",children:s.jsx(qe,{fontSize:"small"})}),label:"Branch"}),label:"Year",onChange:x=>b({...i,year:x.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),Array.from({length:5},(x,j)=>U().year()-2+j).map(x=>s.jsx(A,{value:x,children:x},x))]})]}),s.jsx(Ve,{size:"small",className:"col-span-1 md:w-[150px]",value:y,onChange:x=>M(x.target.value),InputProps:{startAdornment:s.jsx(Le,{position:"start",children:s.jsx(As,{})}),endAdornment:s.jsx(Le,{position:"end",children:f?s.jsx(Ns,{size:18}):y&&s.jsx(vt,{onClick:()=>M(""),edge:"end",size:"small",children:s.jsx(Rs,{})})})},label:"Search Employee"})]})]})}),jo=kt.memo(({memoColumns:t,finalData:e,handleSort:a,customStyles:n,conditionalRowStyles:l,handleRowSelect:r,selectedRows:o})=>s.jsx("div",{className:"capitalize",children:s.jsx(Ls,{columns:t,data:e,pagination:!0,onSort:a,selectableRows:!0,customStyles:n,conditionalRowStyles:l,onSelectedRowsChange:r,selectedRows:o,highlightOnHover:!0,paginationPerPage:20})}));export{Bo as default};
