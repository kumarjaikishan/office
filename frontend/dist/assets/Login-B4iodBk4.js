import{r as o,u as x,a as h,j as e,T as f,b as i,B as g,c as p,y as n,s as v,d as w}from"./index-DoRMmwPR.js";const b=()=>{const[a,m]=o.useState(""),[r,d]=o.useState(""),l=x();let u=h();const c=async t=>{if(t.preventDefault(),!a||!r){alert("Please fill in both fields");return}try{const s=await p.post("/api/signin",{email:a,password:r});return n.success(s.data.message,{autoClose:1200}),localStorage.setItem("emstoken",s.data.token),l(v(!0)),l(w(s.data.user)),u("/dashboard")}catch(s){s.response?n.warn(s.response.data.message,{autoClose:1200}):s.request?console.error("No response from server:",s.request):console.error("Error:",s.message)}};return e.jsx("div",{className:"h-screen w-screen flex items-start md:items-center justify-center bg-gradient-to-b from-green-200 to-white p-4",children:e.jsxs("div",{className:"flex mt-4 md:mt-0 flex-col md:flex-row items-center md:items-stretch shadow-lg bg-white rounded-xl overflow-hidden w-full max-w-fit",children:[e.jsx("div",{className:"w-full md:w-[350px] h-[200px] md:h-[400px] flex-shrink-0",children:e.jsx("img",{src:"https://res.cloudinary.com/dusxlxlvm/image/upload/v1756013721/ems/assets/10782895_19199299_1_q2oxsf.svg",alt:"Login Illustration",className:"w-full h-full object-contain md:object-cover"})}),e.jsx("div",{className:"flex items-center justify-center w-full md:w-[300px] p-6",children:e.jsx("div",{className:"w-full",children:e.jsxs("form",{onSubmit:c,children:[e.jsx(f,{variant:"h5",textAlign:"center",gutterBottom:!0,className:"mb-4",children:"Login"}),e.jsx(i,{label:"Email",type:"email",fullWidth:!0,required:!0,margin:"normal",value:a,onChange:t=>m(t.target.value)}),e.jsx(i,{label:"Password",type:"password",fullWidth:!0,required:!0,margin:"normal",value:r,onChange:t=>d(t.target.value)}),e.jsx(g,{type:"submit",variant:"contained",fullWidth:!0,sx:{marginTop:2},children:"Login"})]})})})]})})};export{b as default};
