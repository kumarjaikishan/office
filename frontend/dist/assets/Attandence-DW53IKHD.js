var vs=Object.defineProperty;var Cs=(t,e,a)=>e in t?vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var w=(t,e,a)=>Cs(t,typeof e!="symbol"?e+"":e,a);import{r as y,n as ye,m as ve,o as $e,j as s,q as X,t as fe,w as be,x as bt,v as Ve,ap as it,aq as H,h as _,ar as je,T as Ze,B as Me,as as xt,a5 as gt,at as ws,au as Kt,av as ks,aw as at,M as A,ax as nt,ay as Qt,az as Ts,aA as Xt,g as yt,ab as vt,F as ke,I as Se,S as Te,b as Le,a3 as Nt,A as Jt,k as es,l as Ms,y as qe,D as ts,aB as js,c as Ds,u as Ss,a8 as Ps,a9 as Os,O as _e,i as Ae,C as Ue,aC as Is,a6 as Ns,a7 as Rs,aa as As}from"./index-C0rwx7oP.js";import{I as Ct,u as Ls,c as Ys,d as Rt,s as Vs}from"./attandencehelper-CGc9Tbew.js";import{A as Fs}from"./index-Cf-Uui-C.js";import{b as zs,a as Hs}from"./index-D2i5FlQb.js";import{c as ct,s as Re,a as $s,u as Pe,b as Be,C as Bs,g as _s,d as Us,e as Es,f as wt,h as Ee,i as Ne,P as Ws,j as qs,k as Ye,l as Gs,S as Zs,m as kt,n as Tt,o as Mt,p as ot,q as jt,r as Ks,D as ss,t as rt,M as Qs,v as Ke,w as as,x as ns,y as u,z as Xs,L as Fe}from"./dateViewRenderers-CJQxIB1h.js";import{i as Js}from"./isBetween-C1ouZG3w.js";import{u as ea,a as ta,P as sa,e as os,b as aa,r as rs,c as na,D as ls}from"./DatePicker-CYvCAzeI.js";import{A as oa}from"./Autocomplete-C0SFY3Tk.js";import{u as we,a as ra}from"./index-DCktl2Yt.js";import{i as la}from"./isSameOrBefore-C8Vjl7Y1.js";import{C as At}from"./Checkbox-KC01coIx.js";import{C as ht}from"./CheckPermission-CgIRfaQl.js";import"./Chip-DL74kkOc.js";import"./Popper-DlE-sN-d.js";import"./SwitchBase-JoOquKkQ.js";const is=y.createContext();function ia(t){return ye("MuiTable",t)}ve("MuiTable",["root","stickyHeader"]);const ca=t=>{const{classes:e,stickyHeader:a}=t;return be({root:["root",a&&"stickyHeader"]},ia,e)},ua=X("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.stickyHeader&&e.stickyHeader]}})(bt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),Lt="table",da=y.forwardRef(function(e,a){const n=$e({props:e,name:"MuiTable"}),{className:l,component:r=Lt,padding:o="normal",size:c="medium",stickyHeader:d=!1,...f}=n,m={...n,component:r,padding:o,size:c,stickyHeader:d},b=ca(m),k=y.useMemo(()=>({padding:o,size:c,stickyHeader:d}),[o,c,d]);return s.jsx(is.Provider,{value:k,children:s.jsx(ua,{as:r,role:r===Lt?null:"table",ref:a,className:fe(b.root,l),ownerState:m,...f})})}),ut=y.createContext();function ma(t){return ye("MuiTableBody",t)}ve("MuiTableBody",["root"]);const ha=t=>{const{classes:e}=t;return be({root:["root"]},ma,e)},pa=X("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),fa={variant:"body"},Yt="tbody",ba=y.forwardRef(function(e,a){const n=$e({props:e,name:"MuiTableBody"}),{className:l,component:r=Yt,...o}=n,c={...n,component:r},d=ha(c);return s.jsx(ut.Provider,{value:fa,children:s.jsx(pa,{className:fe(d.root,l),as:r,ref:a,role:r===Yt?null:"rowgroup",ownerState:c,...o})})});function xa(t){return ye("MuiTableCell",t)}const ga=ve("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ya=t=>{const{classes:e,variant:a,align:n,padding:l,size:r,stickyHeader:o}=t,c={root:["root",a,o&&"stickyHeader",n!=="inherit"&&`align${Ve(n)}`,l!=="normal"&&`padding${Ve(l)}`,`size${Ve(r)}`]};return be(c,xa,e)},va=X("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`size${Ve(a.size)}`],a.padding!=="normal"&&e[`padding${Ve(a.padding)}`],a.align!=="inherit"&&e[`align${Ve(a.align)}`],a.stickyHeader&&e.stickyHeader]}})(bt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${ga.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),De=y.forwardRef(function(e,a){const n=$e({props:e,name:"MuiTableCell"}),{align:l="inherit",className:r,component:o,padding:c,scope:d,size:f,sortDirection:m,variant:b,...k}=n,h=y.useContext(is),g=y.useContext(ut),M=g&&g.variant==="head";let p;o?p=o:p=M?"th":"td";let C=d;p==="td"?C=void 0:!C&&M&&(C="col");const P=b||g&&g.variant,D={...n,align:l,component:p,padding:c||(h&&h.padding?h.padding:"normal"),size:f||(h&&h.size?h.size:"medium"),sortDirection:m,stickyHeader:P==="head"&&h&&h.stickyHeader,variant:P},$=ya(D);let N=null;return m&&(N=m==="asc"?"ascending":"descending"),s.jsx(va,{as:p,ref:a,className:fe($.root,r),"aria-sort":N,scope:C,ownerState:D,...k})});function Ca(t){return ye("MuiTableContainer",t)}ve("MuiTableContainer",["root"]);const wa=t=>{const{classes:e}=t;return be({root:["root"]},Ca,e)},ka=X("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Ta=y.forwardRef(function(e,a){const n=$e({props:e,name:"MuiTableContainer"}),{className:l,component:r="div",...o}=n,c={...n,component:r},d=wa(c);return s.jsx(ka,{ref:a,as:r,className:fe(d.root,l),ownerState:c,...o})});function Ma(t){return ye("MuiTableHead",t)}ve("MuiTableHead",["root"]);const ja=t=>{const{classes:e}=t;return be({root:["root"]},Ma,e)},Da=X("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Sa={variant:"head"},Vt="thead",Pa=y.forwardRef(function(e,a){const n=$e({props:e,name:"MuiTableHead"}),{className:l,component:r=Vt,...o}=n,c={...n,component:r},d=ja(c);return s.jsx(ut.Provider,{value:Sa,children:s.jsx(Da,{as:r,className:fe(d.root,l),ref:a,role:r===Vt?null:"rowgroup",ownerState:c,...o})})});function Oa(t){return ye("MuiTableRow",t)}const Ft=ve("MuiTableRow",["root","selected","hover","head","footer"]),Ia=t=>{const{classes:e,selected:a,hover:n,head:l,footer:r}=t;return be({root:["root",a&&"selected",n&&"hover",l&&"head",r&&"footer"]},Oa,e)},Na=X("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.head&&e.head,a.footer&&e.footer]}})(bt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ft.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ft.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),zt="tr",Ht=y.forwardRef(function(e,a){const n=$e({props:e,name:"MuiTableRow"}),{className:l,component:r=zt,hover:o=!1,selected:c=!1,...d}=n,f=y.useContext(ut),m={...n,component:r,hover:o,selected:c,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},b=Ia(m);return s.jsx(Na,{as:r,ref:a,className:fe(b.root,l),role:r===zt?null:"row",ownerState:m,...d})});var Je={exports:{}},Ra=Je.exports,$t;function Aa(){return $t||($t=1,(function(t,e){(function(a,n){t.exports=n()})(Ra,(function(){var a="week",n="year";return function(l,r,o){var c=r.prototype;c.week=function(d){if(d===void 0&&(d=null),d!==null)return this.add(7*(d-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var m=o(this).startOf(n).add(1,n).date(f),b=o(this).endOf(a);if(m.isBefore(b))return 1}var k=o(this).startOf(n).date(f).startOf(a).subtract(1,"millisecond"),h=this.diff(k,a,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},c.weeks=function(d){return d===void 0&&(d=null),this.week(d)}}}))})(Je)),Je.exports}var La=Aa();const Ya=it(La);var et={exports:{}},Va=et.exports,Bt;function Fa(){return Bt||(Bt=1,(function(t,e){(function(a,n){t.exports=n()})(Va,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d/,r=/\d\d/,o=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,d={},f=function(p){return(p=+p)+(p>68?1900:2e3)},m=function(p){return function(C){this[p]=+C}},b=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=(function(C){if(!C||C==="Z")return 0;var P=C.match(/([+-]|\d\d)/g),D=60*P[1]+(+P[2]||0);return D===0?0:P[0]==="+"?-D:D})(p)}],k=function(p){var C=d[p];return C&&(C.indexOf?C:C.s.concat(C.f))},h=function(p,C){var P,D=d.meridiem;if(D){for(var $=1;$<=24;$+=1)if(p.indexOf(D($,0,C))>-1){P=$>12;break}}else P=p===(C?"pm":"PM");return P},g={A:[c,function(p){this.afternoon=h(p,!1)}],a:[c,function(p){this.afternoon=h(p,!0)}],Q:[l,function(p){this.month=3*(p-1)+1}],S:[l,function(p){this.milliseconds=100*+p}],SS:[r,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[o,m("seconds")],ss:[o,m("seconds")],m:[o,m("minutes")],mm:[o,m("minutes")],H:[o,m("hours")],h:[o,m("hours")],HH:[o,m("hours")],hh:[o,m("hours")],D:[o,m("day")],DD:[r,m("day")],Do:[c,function(p){var C=d.ordinal,P=p.match(/\d+/);if(this.day=P[0],C)for(var D=1;D<=31;D+=1)C(D).replace(/\[|\]/g,"")===p&&(this.day=D)}],w:[o,m("week")],ww:[r,m("week")],M:[o,m("month")],MM:[r,m("month")],MMM:[c,function(p){var C=k("months"),P=(k("monthsShort")||C.map((function(D){return D.slice(0,3)}))).indexOf(p)+1;if(P<1)throw new Error;this.month=P%12||P}],MMMM:[c,function(p){var C=k("months").indexOf(p)+1;if(C<1)throw new Error;this.month=C%12||C}],Y:[/[+-]?\d+/,m("year")],YY:[r,function(p){this.year=f(p)}],YYYY:[/\d{4}/,m("year")],Z:b,ZZ:b};function M(p){var C,P;C=p,P=d&&d.formats;for(var D=(p=C.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(F,W,G){var B=G&&G.toUpperCase();return W||P[G]||a[G]||P[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(q,J,te){return J||te.slice(1)}))}))).match(n),$=D.length,N=0;N<$;N+=1){var K=D[N],O=g[K],U=O&&O[0],T=O&&O[1];D[N]=T?{regex:U,parser:T}:K.replace(/^\[|\]$/g,"")}return function(F){for(var W={},G=0,B=0;G<$;G+=1){var q=D[G];if(typeof q=="string")B+=q.length;else{var J=q.regex,te=q.parser,ce=F.slice(B),x=J.exec(ce)[0];te.call(W,x),F=F.replace(x,"")}}return(function(I){var L=I.afternoon;if(L!==void 0){var S=I.hours;L?S<12&&(I.hours+=12):S===12&&(I.hours=0),delete I.afternoon}})(W),W}}return function(p,C,P){P.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(f=p.parseTwoDigitYear);var D=C.prototype,$=D.parse;D.parse=function(N){var K=N.date,O=N.utc,U=N.args;this.$u=O;var T=U[1];if(typeof T=="string"){var F=U[2]===!0,W=U[3]===!0,G=F||W,B=U[2];W&&(B=U[2]),d=this.$locale(),!F&&B&&(d=P.Ls[B]),this.$d=(function(ce,x,I,L){try{if(["x","X"].indexOf(x)>-1)return new Date((x==="X"?1e3:1)*ce);var S=M(x)(ce),E=S.year,ee=S.month,oe=S.day,j=S.hours,Y=S.minutes,Z=S.seconds,ue=S.milliseconds,ie=S.zone,he=S.week,de=new Date,me=oe||(E||ee?1:de.getDate()),pe=E||de.getFullYear(),xe=0;E&&!ee||(xe=ee>0?ee-1:de.getMonth());var Ce,se=j||0,ne=Y||0,Q=Z||0,V=ue||0;return ie?new Date(Date.UTC(pe,xe,me,se,ne,Q,V+60*ie.offset*1e3)):I?new Date(Date.UTC(pe,xe,me,se,ne,Q,V)):(Ce=new Date(pe,xe,me,se,ne,Q,V),he&&(Ce=L(Ce).week(he).toDate()),Ce)}catch{return new Date("")}})(K,T,O,P),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),G&&K!=this.format(T)&&(this.$d=new Date("")),d={}}else if(T instanceof Array)for(var q=T.length,J=1;J<=q;J+=1){U[1]=T[J-1];var te=P.apply(this,U);if(te.isValid()){this.$d=te.$d,this.$L=te.$L,this.init();break}J===q&&(this.$d=new Date(""))}else $.call(this,N)}}}))})(et)),et.exports}var za=Fa();const Ha=it(za);var tt={exports:{}},$a=tt.exports,_t;function Ba(){return _t||(_t=1,(function(t,e){(function(a,n){t.exports=n()})($a,(function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,l,r){var o=l.prototype,c=o.format;r.en.formats=a,o.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var f=this.$locale().formats,m=(function(b,k){return b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(h,g,M){var p=M&&M.toUpperCase();return g||k[M]||a[M]||k[p].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,P,D){return P||D.slice(1)}))}))})(d,f===void 0?{}:f);return c.call(this,m)}}}))})(tt)),tt.exports}var _a=Ba();const Ua=it(_a);var st={exports:{}},Ea=st.exports,Ut;function Wa(){return Ut||(Ut=1,(function(t,e){(function(a,n){t.exports=n()})(Ea,(function(){return function(a,n){var l=n.prototype,r=l.format;l.format=function(o){var c=this,d=this.$locale();if(!this.isValid())return r.bind(this)(o);var f=this.$utils(),m=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(b){switch(b){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return d.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return d.ordinal(c.week(),"W");case"w":case"ww":return f.s(c.week(),b==="w"?1:2,"0");case"W":case"WW":return f.s(c.isoWeek(),b==="W"?1:2,"0");case"k":case"kk":return f.s(String(c.$H===0?24:c.$H),b==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return b}}));return r.bind(this)(m)}}}))})(st)),st.exports}var qa=Wa();const Ga=it(qa);_.extend(Ua);_.extend(Ya);_.extend(Js);_.extend(Ga);const Za={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Ka={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},pt=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Et=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class ze{constructor({locale:e,formats:a}={}){w(this,"isMUIAdapter",!0);w(this,"isTimezoneCompatible",!0);w(this,"lib","dayjs");w(this,"escapedCharacters",{start:"[",end:"]"});w(this,"formatTokenMap",Za);w(this,"setLocaleToValue",e=>{const a=this.getCurrentLocaleCode();return a===e.locale()?e:e.locale(a)});w(this,"hasUTCPlugin",()=>typeof _.utc<"u");w(this,"hasTimezonePlugin",()=>typeof _.tz<"u");w(this,"isSame",(e,a,n)=>{const l=this.setTimezone(a,this.getTimezone(e));return e.format(n)===l.format(n)});w(this,"cleanTimezone",e=>{switch(e){case"default":return;case"system":return _.tz.guess();default:return e}});w(this,"createSystemDate",e=>{let a;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const n=_.tz.guess();n==="UTC"?a=_(e):a=_.tz(e,n)}else a=_(e);return this.setLocaleToValue(a)});w(this,"createUTCDate",e=>{if(!this.hasUTCPlugin())throw new Error(pt);return this.setLocaleToValue(_.utc(e))});w(this,"createTZDate",(e,a)=>{if(!this.hasUTCPlugin())throw new Error(pt);if(!this.hasTimezonePlugin())throw new Error(Et);const n=e!==void 0&&!e.endsWith("Z");return this.setLocaleToValue(_(e).tz(this.cleanTimezone(a),n))});w(this,"getLocaleFormats",()=>{const e=_.Ls,a=this.locale||"en";let n=e[a];return n===void 0&&(n=e.en),n.formats});w(this,"adjustOffset",e=>{if(!this.hasTimezonePlugin())return e;const a=this.getTimezone(e);if(a!=="UTC"){const n=e.tz(this.cleanTimezone(a),!0);if(n.$offset===(e.$offset??0))return e;e.$offset=n.$offset}return e});w(this,"date",(e,a="default")=>e===null?null:a==="UTC"?this.createUTCDate(e):a==="system"||a==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(e):this.createTZDate(e,a));w(this,"getInvalidDate",()=>_(new Date("Invalid date")));w(this,"getTimezone",e=>{var a;if(this.hasTimezonePlugin()){const n=(a=e.$x)==null?void 0:a.$timezone;if(n)return n}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"});w(this,"setTimezone",(e,a)=>{if(this.getTimezone(e)===a)return e;if(a==="UTC"){if(!this.hasUTCPlugin())throw new Error(pt);return e.utc()}if(a==="system")return e.local();if(!this.hasTimezonePlugin()){if(a==="default")return e;throw new Error(Et)}return this.setLocaleToValue(_.tz(e,this.cleanTimezone(a)))});w(this,"toJsDate",e=>e.toDate());w(this,"parse",(e,a)=>e===""?null:_(e,a,this.locale,!0));w(this,"getCurrentLocaleCode",()=>this.locale||"en");w(this,"is12HourCycleInCurrentLocale",()=>/A|a/.test(this.getLocaleFormats().LT||""));w(this,"expandFormat",e=>{const a=this.getLocaleFormats(),n=l=>l.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(r,o,c)=>o||c.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(l,r,o)=>{const c=o&&o.toUpperCase();return r||a[o]||n(a[c])})});w(this,"isValid",e=>e==null?!1:e.isValid());w(this,"format",(e,a)=>this.formatByString(e,this.formats[a]));w(this,"formatByString",(e,a)=>this.setLocaleToValue(e).format(a));w(this,"formatNumber",e=>e);w(this,"isEqual",(e,a)=>e===null&&a===null?!0:e===null||a===null?!1:e.toDate().getTime()===a.toDate().getTime());w(this,"isSameYear",(e,a)=>this.isSame(e,a,"YYYY"));w(this,"isSameMonth",(e,a)=>this.isSame(e,a,"YYYY-MM"));w(this,"isSameDay",(e,a)=>this.isSame(e,a,"YYYY-MM-DD"));w(this,"isSameHour",(e,a)=>e.isSame(a,"hour"));w(this,"isAfter",(e,a)=>e>a);w(this,"isAfterYear",(e,a)=>this.hasUTCPlugin()?!this.isSameYear(e,a)&&e.utc()>a.utc():e.isAfter(a,"year"));w(this,"isAfterDay",(e,a)=>this.hasUTCPlugin()?!this.isSameDay(e,a)&&e.utc()>a.utc():e.isAfter(a,"day"));w(this,"isBefore",(e,a)=>e<a);w(this,"isBeforeYear",(e,a)=>this.hasUTCPlugin()?!this.isSameYear(e,a)&&e.utc()<a.utc():e.isBefore(a,"year"));w(this,"isBeforeDay",(e,a)=>this.hasUTCPlugin()?!this.isSameDay(e,a)&&e.utc()<a.utc():e.isBefore(a,"day"));w(this,"isWithinRange",(e,[a,n])=>e>=a&&e<=n);w(this,"startOfYear",e=>this.adjustOffset(e.startOf("year")));w(this,"startOfMonth",e=>this.adjustOffset(e.startOf("month")));w(this,"startOfWeek",e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")));w(this,"startOfDay",e=>this.adjustOffset(e.startOf("day")));w(this,"endOfYear",e=>this.adjustOffset(e.endOf("year")));w(this,"endOfMonth",e=>this.adjustOffset(e.endOf("month")));w(this,"endOfWeek",e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")));w(this,"endOfDay",e=>this.adjustOffset(e.endOf("day")));w(this,"addYears",(e,a)=>this.adjustOffset(e.add(a,"year")));w(this,"addMonths",(e,a)=>this.adjustOffset(e.add(a,"month")));w(this,"addWeeks",(e,a)=>this.adjustOffset(e.add(a,"week")));w(this,"addDays",(e,a)=>this.adjustOffset(e.add(a,"day")));w(this,"addHours",(e,a)=>this.adjustOffset(e.add(a,"hour")));w(this,"addMinutes",(e,a)=>this.adjustOffset(e.add(a,"minute")));w(this,"addSeconds",(e,a)=>this.adjustOffset(e.add(a,"second")));w(this,"getYear",e=>e.year());w(this,"getMonth",e=>e.month());w(this,"getDate",e=>e.date());w(this,"getHours",e=>e.hour());w(this,"getMinutes",e=>e.minute());w(this,"getSeconds",e=>e.second());w(this,"getMilliseconds",e=>e.millisecond());w(this,"setYear",(e,a)=>this.adjustOffset(e.set("year",a)));w(this,"setMonth",(e,a)=>this.adjustOffset(e.set("month",a)));w(this,"setDate",(e,a)=>this.adjustOffset(e.set("date",a)));w(this,"setHours",(e,a)=>this.adjustOffset(e.set("hour",a)));w(this,"setMinutes",(e,a)=>this.adjustOffset(e.set("minute",a)));w(this,"setSeconds",(e,a)=>this.adjustOffset(e.set("second",a)));w(this,"setMilliseconds",(e,a)=>this.adjustOffset(e.set("millisecond",a)));w(this,"getDaysInMonth",e=>e.daysInMonth());w(this,"getWeekArray",e=>{const a=this.startOfWeek(this.startOfMonth(e)),n=this.endOfWeek(this.endOfMonth(e));let l=0,r=a;const o=[];for(;r<n;){const c=Math.floor(l/7);o[c]=o[c]||[],o[c].push(r),r=this.addDays(r,1),l+=1}return o});w(this,"getWeekNumber",e=>e.week());w(this,"getYearRange",([e,a])=>{const n=this.startOfYear(e),l=this.endOfYear(a),r=[];let o=n;for(;this.isBefore(o,l);)r.push(o),o=this.addYears(o,1);return r});this.locale=e,this.formats=H({},Ka,a),_.extend(Ha)}getDayOfWeek(e){return e.day()+1}}const dt=({adapter:t,value:e,timezone:a,props:n})=>{if(e===null)return null;const{minTime:l,maxTime:r,minutesStep:o,shouldDisableTime:c,disableIgnoringDatePartForTimeValidation:d=!1,disablePast:f,disableFuture:m}=n,b=t.date(void 0,a),k=ct(d,t);switch(!0){case!t.isValid(e):return"invalidDate";case!!(l&&k(l,e)):return"minTime";case!!(r&&k(e,r)):return"maxTime";case!!(m&&t.isAfter(e,b)):return"disableFuture";case!!(f&&t.isBefore(e,b)):return"disablePast";case!!(c&&c(e,"hours")):return"shouldDisableTime-hours";case!!(c&&c(e,"minutes")):return"shouldDisableTime-minutes";case!!(c&&c(e,"seconds")):return"shouldDisableTime-seconds";case!!(o&&t.getMinutes(e)%o!==0):return"minutesStep";default:return null}};dt.valueManager=Re;function Qa(t={}){const{enableAccessibleFieldDOMStructure:e=!0,ampm:a}=t;return y.useMemo(()=>({valueType:"time",validator:dt,internal_valueManager:Re,internal_fieldValueManager:$s,internal_enableAccessibleFieldDOMStructure:e,internal_useApplyDefaultValuesToFieldInternalProps:Ja,internal_useOpenPickerButtonAriaLabel:Xa(a)}),[a,e])}function Xa(t){return function(a){const n=Pe(),l=Be();return y.useMemo(()=>{const r=t??n.is12HourCycleInCurrentLocale()?"fullTime12h":"fullTime24h",o=n.isValid(a)?n.format(a,r):null;return l.openTimePickerDialogue(o)},[a,l,n])}}function Ja(t){const e=Pe(),a=cs(t),n=y.useMemo(()=>t.ampm??e.is12HourCycleInCurrentLocale(),[t.ampm,e]);return y.useMemo(()=>H({},t,a,{format:t.format??(n?e.formats.fullTime12h:e.formats.fullTime24h)}),[t,a,n,e])}function cs(t){return y.useMemo(()=>({disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1}),[t.disablePast,t.disableFuture])}const en=t=>{const e=Qa(t);return ea({manager:e,props:t})},tn=["slots","slotProps","InputProps","inputProps"],us=y.forwardRef(function(e,a){const n=we({props:e,name:"MuiTimeField"}),{slots:l,slotProps:r}=n,o=je(n,tn),c=ta({slotProps:r,ref:a,externalForwardedProps:o}),d=en(c);return s.jsx(sa,{slots:l,slotProps:r,fieldResponse:d,defaultOpenPickerIcon:Bs})});function sn(t){return ye("MuiPickersToolbarText",t)}ve("MuiPickersToolbarText",["root"]);const an=["className","classes","selected","value"],nn=t=>be({root:["root"]},sn,t),on=X(Ze,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,"&[data-selected]":{color:(t.vars||t).palette.text.primary}})),ds=y.forwardRef(function(e,a){const n=we({props:e,name:"MuiPickersToolbarText"}),{className:l,classes:r,selected:o,value:c}=n,d=je(n,an),f=nn(r);return s.jsx(on,H({ref:a,className:fe(f.root,l),component:"span",ownerState:n},o&&{"data-selected":!0},d,{children:c}))}),rn=["align","className","classes","selected","typographyClassName","value","variant","width"],ln=t=>be({root:["root"]},_s,t),cn=X(Me,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),We=y.forwardRef(function(e,a){const n=we({props:e,name:"MuiPickersToolbarButton"}),{align:l,className:r,classes:o,selected:c,typographyClassName:d,value:f,variant:m,width:b}=n,k=je(n,rn),h=ln(o);return s.jsx(cn,H({variant:"text",ref:a,className:fe(h.root,r),ownerState:n},b?{sx:{width:b}}:{},k,{children:s.jsx(ds,{align:l,className:d,variant:m,value:f,selected:c})}))});function un(t){return ye("MuiTimePickerToolbar",t)}const Ge=ve("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),dn=["ampm","ampmInClock","className","classes"],mn=(t,e)=>{const{pickerOrientation:a,toolbarDirection:n}=e;return be({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",a==="landscape"&&"hourMinuteLabelLandscape",n==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",a==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},un,t)},hn=X(Ws,{name:"MuiTimePickerToolbar",slot:"Root"})({}),pn=X(ds,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),fn=X("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${Ge.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${Ge.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),bn=X("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${Ge.ampmLabel}`]:e.ampmLabel},{[`&.${Ge.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Ge.ampmLabel}`]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function xn(t){const e=we({props:t,name:"MuiTimePickerToolbar"}),{ampm:a,ampmInClock:n,className:l,classes:r}=e,o=je(e,dn),c=Pe(),d=Be(),f=Us(),m=mn(r,f),{value:b,setValue:k,disabled:h,readOnly:g,view:M,setView:p,views:C}=Es(),P=!!(a&&!n&&C.includes("hours")),{meridiemMode:D,handleMeridiemChange:$}=wt(b,a,O=>k(O,{changeImportance:"set"})),N=O=>c.isValid(b)?c.format(b,O):"--",K=s.jsx(pn,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:m.separator});return s.jsxs(hn,H({landscapeDirection:"row",toolbarTitle:d.timePickerToolbarTitle,ownerState:f,className:fe(m.root,l)},o,{children:[s.jsxs(fn,{className:m.hourMinuteLabel,ownerState:f,children:[Ee(C,"hours")&&s.jsx(We,{tabIndex:-1,variant:"h3",onClick:()=>p("hours"),selected:M==="hours",value:N(a?"hours12h":"hours24h")}),Ee(C,["hours","minutes"])&&K,Ee(C,"minutes")&&s.jsx(We,{tabIndex:-1,variant:"h3",onClick:()=>p("minutes"),selected:M==="minutes",value:N("minutes")}),Ee(C,["minutes","seconds"])&&K,Ee(C,"seconds")&&s.jsx(We,{variant:"h3",onClick:()=>p("seconds"),selected:M==="seconds",value:N("seconds")})]}),P&&s.jsxs(bn,{className:m.ampmSelection,ownerState:f,children:[s.jsx(We,{disableRipple:!0,variant:"subtitle2",selected:D==="am",typographyClassName:m.ampmLabel,value:Ne(c,"am"),onClick:g?void 0:()=>$("am"),disabled:h}),s.jsx(We,{disableRipple:!0,variant:"subtitle2",selected:D==="pm",typographyClassName:m.ampmLabel,value:Ne(c,"pm"),onClick:g?void 0:()=>$("pm"),disabled:h})]})]}))}function ms(t,e){var c;const a=Pe(),n=we({props:t,name:e}),l=cs(n),r=n.ampm??a.is12HourCycleInCurrentLocale(),o=y.useMemo(()=>{var d;return((d=n.localeText)==null?void 0:d.toolbarTitle)==null?n.localeText:H({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return H({},n,l,{ampm:r,localeText:o},qs({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:H({toolbar:xn},n.slots),slotProps:H({},n.slotProps,{toolbar:H({ampm:r,ampmInClock:n.ampmInClock},(c=n.slotProps)==null?void 0:c.toolbar)})})}function gn(t){return ye("MuiTimeClock",t)}ve("MuiTimeClock",["root","arrowSwitcher"]);const He=220,Oe=36,Qe={x:He/2,y:He/2},hs={x:Qe.x,y:0},yn=hs.x-Qe.x,vn=hs.y-Qe.y,Cn=t=>t*(180/Math.PI),ps=(t,e,a)=>{const n=e-Qe.x,l=a-Qe.y,r=Math.atan2(yn,vn)-Math.atan2(n,l);let o=Cn(r);o=Math.round(o/t)*t,o%=360;const c=Math.floor(o/t)||0,d=n**2+l**2,f=Math.sqrt(d);return{value:c,distance:f}},wn=(t,e,a=1)=>{const n=a*6;let{value:l}=ps(n,t,e);return l=l*a%60,l},kn=(t,e,a)=>{const{value:n,distance:l}=ps(30,t,e);let r=n||12;return a?r%=12:l<He/2-Oe&&(r+=12,r%=24),r};function Tn(t){return ye("MuiClockPointer",t)}ve("MuiClockPointer",["root","thumb"]);const Mn=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],jn=t=>be({root:["root"],thumb:["thumb"]},Tn,t),Dn=X("div",{name:"MuiClockPointer",slot:"Root"})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),Sn=X("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${Oe/2}px)`,border:`${(Oe-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function Pn(t){const e=we({props:t,name:"MuiClockPointer"}),{className:a,classes:n,isBetweenTwoClockValues:l,isInner:r,type:o,viewValue:c}=e,d=je(e,Mn),f=y.useRef(o);y.useEffect(()=>{f.current=o},[o]);const{ownerState:m}=Ye(),b=H({},m,{isClockPointerAnimated:f.current!==o,isClockPointerBetweenTwoValues:l}),k=jn(n),h=()=>{let M=360/(o==="hours"?12:60)*c;return o==="hours"&&c>12&&(M-=360),{height:Math.round((r?.26:.4)*He),transform:`rotateZ(${M}deg)`}};return s.jsx(Dn,H({style:h(),className:fe(k.root,a),ownerState:b},d,{children:s.jsx(Sn,{ownerState:b,className:k.thumb})}))}function On(t){return ye("MuiClock",t)}ve("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const In=(t,e)=>{const a={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",e.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",e.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return be(a,On,t)},Nn=X("div",{name:"MuiClock",slot:"Root"})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),Rn=X("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),An=X("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),Ln=X("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Yn=X("div",{name:"MuiClock",slot:"Pin"})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),fs=(t,e)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:Oe,variants:[{props:{clockMeridiemMode:e},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]}),Vn=X(gt,{name:"MuiClock",slot:"AmButton"})(({theme:t})=>H({},fs(t,"am"),{position:"absolute",left:8})),Fn=X(gt,{name:"MuiClock",slot:"PmButton"})(({theme:t})=>H({},fs(t,"pm"),{position:"absolute",right:8})),Wt=X(Ze,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function zn(t){const e=we({props:t,name:"MuiClock"}),{ampm:a,ampmInClock:n,autoFocus:l,children:r,value:o,handleMeridiemChange:c,isTimeDisabled:d,meridiemMode:f,minutesStep:m=1,onChange:b,selectedId:k,type:h,viewValue:g,viewRange:[M,p],disabled:C=!1,readOnly:P,className:D,classes:$}=e,N=Pe(),K=Be(),{ownerState:O}=Ye(),U=H({},O,{isClockDisabled:C,clockMeridiemMode:f}),T=y.useRef(!1),F=In($,U),W=d(g,h),G=!a&&h==="hours"&&(g<1||g>12),B=(j,Y)=>{C||P||d(j,h)||b(j,Y)},q=(j,Y)=>{let{offsetX:Z,offsetY:ue}=j;if(Z===void 0){const he=j.target.getBoundingClientRect();Z=j.changedTouches[0].clientX-he.left,ue=j.changedTouches[0].clientY-he.top}const ie=h==="seconds"||h==="minutes"?wn(Z,ue,m):kn(Z,ue,!!a);B(ie,Y)},J=j=>{T.current=!0,q(j,"shallow")},te=j=>{T.current&&(q(j,"finish"),T.current=!1),j.preventDefault()},ce=j=>{j.buttons>0&&q(j.nativeEvent,"shallow")},x=j=>{T.current&&(T.current=!1),q(j.nativeEvent,"finish")},I=h==="hours"?!1:g%5!==0,L=h==="minutes"?m:1,S=y.useRef(null);xt(()=>{l&&S.current.focus()},[l]);const E=j=>Math.max(M,Math.min(p,j)),ee=j=>(j+(p+1))%(p+1),oe=j=>{if(!T.current)switch(j.key){case"Home":B(M,"partial"),j.preventDefault();break;case"End":B(p,"partial"),j.preventDefault();break;case"ArrowUp":B(ee(g+L),"partial"),j.preventDefault();break;case"ArrowDown":B(ee(g-L),"partial"),j.preventDefault();break;case"PageUp":B(E(g+5),"partial"),j.preventDefault();break;case"PageDown":B(E(g-5),"partial"),j.preventDefault();break;case"Enter":case" ":B(g,"finish"),j.preventDefault();break}};return s.jsxs(Nn,{className:fe(F.root,D),children:[s.jsxs(Rn,{className:F.clock,children:[s.jsx(Ln,{onTouchMove:J,onTouchStart:J,onTouchEnd:te,onMouseUp:x,onMouseMove:ce,ownerState:U,className:F.squareMask}),!W&&s.jsxs(y.Fragment,{children:[s.jsx(Yn,{className:F.pin}),o!=null&&s.jsx(Pn,{type:h,viewValue:g,isInner:G,isBetweenTwoClockValues:I})]}),s.jsx(An,{"aria-activedescendant":k,"aria-label":K.clockLabelText(h,o==null?null:N.format(o,a?"fullTime12h":"fullTime24h")),ref:S,role:"listbox",onKeyDown:oe,tabIndex:0,className:F.wrapper,children:r})]}),a&&n&&s.jsxs(y.Fragment,{children:[s.jsx(Vn,{onClick:P?void 0:()=>c("am"),disabled:C||f===null,ownerState:U,className:F.amButton,title:Ne(N,"am"),children:s.jsx(Wt,{variant:"caption",className:F.meridiemText,children:Ne(N,"am")})}),s.jsx(Fn,{disabled:C||f===null,onClick:P?void 0:()=>c("pm"),ownerState:U,className:F.pmButton,title:Ne(N,"pm"),children:s.jsx(Wt,{variant:"caption",className:F.meridiemText,children:Ne(N,"pm")})})]})]})}function Hn(t){return ye("MuiClockNumber",t)}const Xe=ve("MuiClockNumber",["root","selected","disabled"]),$n=["className","classes","disabled","index","inner","label","selected"],Bn=(t,e)=>{const a={root:["root",e.isClockNumberSelected&&"selected",e.isClockNumberDisabled&&"disabled"]};return be(a,Hn,t)},_n=X("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${Xe.disabled}`]:e.disabled},{[`&.${Xe.selected}`]:e.selected}]})(({theme:t})=>({height:Oe,width:Oe,position:"absolute",left:`calc((100% - ${Oe}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${Xe.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${Xe.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:H({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function bs(t){const e=we({props:t,name:"MuiClockNumber"}),{className:a,classes:n,disabled:l,index:r,inner:o,label:c,selected:d}=e,f=je(e,$n),{ownerState:m}=Ye(),b=H({},m,{isClockNumberInInnerRing:o,isClockNumberSelected:d,isClockNumberDisabled:l}),k=Bn(n,b),h=r%12/12*Math.PI*2-Math.PI/2,g=(He-Oe-2)/2*(o?.65:1),M=Math.round(Math.cos(h)*g),p=Math.round(Math.sin(h)*g);return s.jsx(_n,H({className:fe(k.root,a),"aria-disabled":l?!0:void 0,"aria-selected":d?!0:void 0,role:"option",style:{transform:`translate(${M}px, ${p+(He-Oe)/2}px`},ownerState:b},f,{children:c}))}const Un=({ampm:t,value:e,getClockNumberText:a,isDisabled:n,selectedId:l,adapter:r})=>{const o=e?r.getHours(e):null,c=[],d=t?1:0,f=t?12:23,m=b=>o===null?!1:t?b===12?o===12||o===0:o===b||o-12===b:o===b;for(let b=d;b<=f;b+=1){let k=b.toString();b===0&&(k="00");const h=!t&&(b===0||b>12);k=r.formatNumber(k);const g=m(b);c.push(s.jsx(bs,{id:g?l:void 0,index:b,inner:h,selected:g,disabled:n(b),label:k,"aria-label":a(k)},b))}return c},qt=({adapter:t,value:e,isDisabled:a,getClockNumberText:n,selectedId:l})=>{const r=t.formatNumber;return[[5,r("05")],[10,r("10")],[15,r("15")],[20,r("20")],[25,r("25")],[30,r("30")],[35,r("35")],[40,r("40")],[45,r("45")],[50,r("50")],[55,r("55")],[0,r("00")]].map(([o,c],d)=>{const f=o===e;return s.jsx(bs,{label:c,id:f?l:void 0,index:d+1,inner:!1,disabled:a(o),selected:f,"aria-label":n(c)},o)})},Dt=({value:t,referenceDate:e,adapter:a,props:n,timezone:l})=>{const r=y.useMemo(()=>Re.getInitialReferenceValue({value:t,adapter:a,props:n,referenceDate:e,granularity:Zs.day,timezone:l,getTodayDate:()=>Gs(a,l,"date")}),[e,l]);return t??r},En=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],Wn=t=>be({root:["root"],arrowSwitcher:["arrowSwitcher"]},gn,t),qn=X(jt,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),Gn=X(Ks,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),Zn=["hours","minutes"],Kn=y.forwardRef(function(e,a){const n=Pe(),l=we({props:e,name:"MuiTimeClock"}),{ampm:r=n.is12HourCycleInCurrentLocale(),ampmInClock:o=!1,autoFocus:c,slots:d,slotProps:f,value:m,defaultValue:b,referenceDate:k,disableIgnoringDatePartForTimeValidation:h=!1,maxTime:g,minTime:M,disableFuture:p,disablePast:C,minutesStep:P=1,shouldDisableTime:D,showViewSwitcher:$,onChange:N,view:K,views:O=Zn,openTo:U,onViewChange:T,focusedView:F,onFocusedViewChange:W,className:G,classes:B,disabled:q,readOnly:J,timezone:te}=l,ce=je(l,En),{value:x,handleValueChange:I,timezone:L}=kt({name:"TimeClock",timezone:te,value:m,defaultValue:b,referenceDate:k,onChange:N,valueManager:Re}),S=Dt({value:x,referenceDate:k,adapter:n,props:l,timezone:L}),E=Be(),ee=Tt(L),oe=ws(),{ownerState:j}=Ye(),{view:Y,setView:Z,previousView:ue,nextView:ie,setValueAndGoToNextView:he}=Mt({view:K,views:O,openTo:U,onViewChange:T,onChange:I,focusedView:F,onFocusedViewChange:W}),{meridiemMode:de,handleMeridiemChange:me}=wt(S,r,he),pe=y.useCallback((se,ne)=>{const Q=ct(h,n),V=ne==="hours"||ne==="minutes"&&O.includes("seconds"),R=({start:v,end:z})=>!(M&&Q(M,z)||g&&Q(v,g)||p&&Q(v,ee)||C&&Q(ee,V?z:v)),i=(v,z=1)=>{if(v%z!==0)return!1;if(D)switch(ne){case"hours":return!D(n.setHours(S,v),"hours");case"minutes":return!D(n.setMinutes(S,v),"minutes");case"seconds":return!D(n.setSeconds(S,v),"seconds");default:return!1}return!0};switch(ne){case"hours":{const v=ot(se,de,r),z=n.setHours(S,v);if(n.getHours(z)!==v)return!0;const le=n.setSeconds(n.setMinutes(z,0),0),ge=n.setSeconds(n.setMinutes(z,59),59);return!R({start:le,end:ge})||!i(v)}case"minutes":{const v=n.setMinutes(S,se),z=n.setSeconds(v,0),le=n.setSeconds(v,59);return!R({start:z,end:le})||!i(se,P)}case"seconds":{const v=n.setSeconds(S,se);return!R({start:v,end:v})||!i(se)}default:throw new Error("not supported")}},[r,S,h,g,de,M,P,D,n,p,C,ee,O]),xe=y.useMemo(()=>{switch(Y){case"hours":{const se=(V,R)=>{const i=ot(V,de,r);he(n.setHours(S,i),R,"hours")},ne=n.getHours(S);let Q;return r?ne>12?Q=[12,23]:Q=[0,11]:Q=[0,23],{onChange:se,viewValue:ne,children:Un({value:x,adapter:n,ampm:r,getClockNumberText:E.hoursClockNumberText,isDisabled:V=>q||pe(V,"hours"),selectedId:oe}),viewRange:Q}}case"minutes":{const se=n.getMinutes(S);return{viewValue:se,onChange:(Q,V)=>{he(n.setMinutes(S,Q),V,"minutes")},children:qt({adapter:n,value:se,getClockNumberText:E.minutesClockNumberText,isDisabled:Q=>q||pe(Q,"minutes"),selectedId:oe}),viewRange:[0,59]}}case"seconds":{const se=n.getSeconds(S);return{viewValue:se,onChange:(Q,V)=>{he(n.setSeconds(S,Q),V,"seconds")},children:qt({adapter:n,value:se,getClockNumberText:E.secondsClockNumberText,isDisabled:Q=>q||pe(Q,"seconds"),selectedId:oe}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[Y,n,x,r,E.hoursClockNumberText,E.minutesClockNumberText,E.secondsClockNumberText,de,he,S,pe,oe,q]),Ce=Wn(B);return s.jsxs(qn,H({ref:a,className:fe(Ce.root,G),ownerState:j},ce,{children:[s.jsx(zn,H({autoFocus:c??!!F,ampmInClock:o&&O.includes("hours"),value:x,type:Y,ampm:r,minutesStep:P,isTimeDisabled:pe,meridiemMode:de,handleMeridiemChange:me,selectedId:oe,disabled:q,readOnly:J},xe)),$&&s.jsx(Gn,{className:Ce.arrowSwitcher,slots:d,slotProps:f,onGoToPrevious:()=>Z(ue),isPreviousDisabled:!ue,previousLabel:E.openPreviousView,onGoToNext:()=>Z(ie),isNextDisabled:!ie,nextLabel:E.openNextView,ownerState:j})]}))});function Qn(t){return ye("MuiDigitalClock",t)}ve("MuiDigitalClock",["root","list","item"]);const Xn=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],Jn=t=>be({root:["root"],list:["list"],item:["item"]},Qn,t),eo=X(jt,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:ss,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),to=X(Qt,{name:"MuiDigitalClock",slot:"List"})({padding:0}),so=X(A,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:t=>t!=="itemValue"&&t!=="formattedValue"})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:nt(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:nt(t.palette.primary.main,t.palette.action.focusOpacity)}})),ao=y.forwardRef(function(e,a){const n=Pe(),l=y.useRef(null),r=Kt(a,l),o=y.useRef(null),c=we({props:e,name:"MuiDigitalClock"}),{ampm:d=n.is12HourCycleInCurrentLocale(),timeStep:f=30,autoFocus:m,slots:b,slotProps:k,value:h,defaultValue:g,referenceDate:M,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:C,minTime:P,disableFuture:D,disablePast:$,minutesStep:N=1,shouldDisableTime:K,onChange:O,view:U,openTo:T,onViewChange:F,focusedView:W,onFocusedViewChange:G,className:B,classes:q,disabled:J,readOnly:te,views:ce=["hours"],skipDisabled:x=!1,timezone:I}=c,L=je(c,Xn),{value:S,handleValueChange:E,timezone:ee}=kt({name:"DigitalClock",timezone:I,value:h,defaultValue:g,referenceDate:M,onChange:O,valueManager:Re}),oe=Be(),j=Tt(ee),{ownerState:Y}=Ye(),Z=H({},Y,{hasDigitalClockAlreadyBeenRendered:!!l.current}),ue=Jn(q),ie=(b==null?void 0:b.digitalClockItem)??so,he=ks({elementType:ie,externalSlotProps:k==null?void 0:k.digitalClockItem,ownerState:Z,className:ue.item}),de=Dt({value:S,referenceDate:M,adapter:n,props:c,timezone:ee}),me=at(V=>E(V,"finish","hours")),{setValueAndGoToNextView:pe}=Mt({view:U,views:ce,openTo:T,onViewChange:F,onChange:me,focusedView:W,onFocusedViewChange:G}),xe=at(V=>{pe(V,"finish")});xt(()=>{if(l.current===null)return;const V=l.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!V)return;const R=V.offsetTop;(m||W)&&V.focus(),l.current.scrollTop=R-4});const Ce=y.useCallback(V=>{const R=ct(p,n),i=()=>!(P&&R(P,V)||C&&R(V,C)||D&&R(V,j)||$&&R(j,V)),v=()=>n.getMinutes(V)%N!==0?!1:K?!K(V,"hours"):!0;return!i()||!v()},[p,n,P,C,D,j,$,N,K]),se=y.useMemo(()=>{const V=[];let i=n.startOfDay(de);for(;n.isSameDay(de,i);)V.push(i),i=n.addMinutes(i,f);return V},[de,f,n]),ne=se.findIndex(V=>n.isEqual(V,de)),Q=V=>{switch(V.key){case"PageUp":{const R=rt(o.current)-5,i=o.current.children,v=Math.max(0,R),z=i[v];z&&z.focus(),V.preventDefault();break}case"PageDown":{const R=rt(o.current)+5,i=o.current.children,v=Math.min(i.length-1,R),z=i[v];z&&z.focus(),V.preventDefault();break}}};return s.jsx(eo,H({ref:r,className:fe(ue.root,B),ownerState:Z},L,{children:s.jsx(to,{ref:o,role:"listbox","aria-label":oe.timePickerToolbarTitle,className:ue.list,onKeyDown:Q,children:se.map((V,R)=>{const i=Ce(V);if(x&&i)return null;const v=n.isEqual(V,S),z=n.format(V,d?"fullTime12h":"fullTime24h"),ge=ne===R||ne===-1&&R===0?0:-1;return s.jsx(ie,H({onClick:()=>!te&&xe(V),selected:v,disabled:J||i,disableRipple:te,role:"option","aria-disabled":te,"aria-selected":v,tabIndex:ge,itemValue:V,formattedValue:z},he,{children:z}),`${V.valueOf()}-${z}`)})})}))});function no(t){return ye("MuiMultiSectionDigitalClock",t)}ve("MuiMultiSectionDigitalClock",["root"]);function oo(t){return ye("MuiMultiSectionDigitalClockSection",t)}ve("MuiMultiSectionDigitalClockSection",["root","item"]);const ro=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],lo=t=>be({root:["root"],item:["item"]},oo,t),io=X(Qt,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:t})=>({maxHeight:ss,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),co=X(A,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:t})=>({padding:8,margin:"2px 4px",width:Qs,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:nt(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:nt(t.palette.primary.main,t.palette.action.focusOpacity)}})),uo=y.forwardRef(function(e,a){const n=y.useRef(null),l=Kt(a,n),r=y.useRef(null),o=we({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:c,onChange:d,className:f,classes:m,disabled:b,readOnly:k,items:h,active:g,slots:M,slotProps:p,skipDisabled:C}=o,P=je(o,ro),{ownerState:D}=Ye(),$=H({},D,{hasDigitalClockAlreadyBeenRendered:!!n.current}),N=lo(m),K=(M==null?void 0:M.digitalClockSectionItem)??co;xt(()=>{if(n.current===null)return;const T=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(g&&c&&T&&T.focus(),!T||r.current===T)return;r.current=T;const F=T.offsetTop,W=T.offsetHeight,G=n.current.clientHeight,B=n.current.scrollHeight,q=F-G/2+W/2,J=B-G,te=Math.min(q,J);n.current.scrollTop=Math.max(0,te)});const O=h.findIndex(T=>T.isFocused(T.value)),U=T=>{switch(T.key){case"PageUp":{const F=rt(n.current)-5,W=n.current.children,G=Math.max(0,F),B=W[G];B&&B.focus(),T.preventDefault();break}case"PageDown":{const F=rt(n.current)+5,W=n.current.children,G=Math.min(W.length-1,F),B=W[G];B&&B.focus(),T.preventDefault();break}}};return s.jsx(io,H({ref:l,className:fe(N.root,f),ownerState:$,autoFocusItem:c&&g,role:"listbox",onKeyDown:U},P,{children:h.map((T,F)=>{var J;const W=(J=T.isDisabled)==null?void 0:J.call(T,T.value),G=b||W;if(C&&G)return null;const B=T.isSelected(T.value),q=O===F||O===-1&&F===0?0:-1;return s.jsx(K,H({onClick:()=>!k&&d(T.value),selected:B,disabled:G,disableRipple:k,role:"option","aria-disabled":k||G||void 0,"aria-label":T.ariaLabel,"aria-selected":B,tabIndex:q,className:N.item},p==null?void 0:p.digitalClockSectionItem,{children:T.label}),T.label)})}))}),mo=({now:t,value:e,adapter:a,ampm:n,isDisabled:l,resolveAriaLabel:r,timeStep:o,valueOrReferenceDate:c})=>{const d=e?a.getHours(e):null,f=[],m=(h,g)=>{const M=g??d;return M===null?!1:n?h===12?M===12||M===0:M===h||M-12===h:M===h},b=h=>m(h,a.getHours(c)),k=n?11:23;for(let h=0;h<=k;h+=o){let g=a.format(a.setHours(t,h),n?"hours12h":"hours24h");const M=r(parseInt(g,10).toString());g=a.formatNumber(g),f.push({value:h,label:g,isSelected:m,isDisabled:l,isFocused:b,ariaLabel:M})}return f},Gt=({value:t,adapter:e,isDisabled:a,timeStep:n,resolveLabel:l,resolveAriaLabel:r,hasValue:o=!0})=>{const c=f=>t===null?!1:o&&t===f,d=f=>t===f;return[...Array.from({length:Math.ceil(60/n)},(f,m)=>{const b=n*m;return{value:b,label:e.formatNumber(l(b)),isDisabled:a,isSelected:c,isFocused:d,ariaLabel:r(b.toString())}})]},ho=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],po=t=>be({root:["root"]},no,t),fo=X(jt,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:t})=>({flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),bo=y.forwardRef(function(e,a){const n=Pe(),l=Ts(),r=we({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeSteps:c,autoFocus:d,slots:f,slotProps:m,value:b,defaultValue:k,referenceDate:h,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:M,minTime:p,disableFuture:C,disablePast:P,minutesStep:D=1,shouldDisableTime:$,onChange:N,view:K,views:O=["hours","minutes"],openTo:U,onViewChange:T,focusedView:F,onFocusedViewChange:W,className:G,classes:B,disabled:q,readOnly:J,skipDisabled:te=!1,timezone:ce}=r,x=je(r,ho),{value:I,handleValueChange:L,timezone:S}=kt({name:"MultiSectionDigitalClock",timezone:ce,value:b,defaultValue:k,referenceDate:h,onChange:N,valueManager:Re}),E=Be(),ee=Tt(S),oe=y.useMemo(()=>H({hours:1,minutes:5,seconds:5},c),[c]),j=Dt({value:I,referenceDate:h,adapter:n,props:r,timezone:S}),Y=at((R,i,v)=>L(R,i,v)),Z=y.useMemo(()=>!o||!O.includes("hours")||O.includes("meridiem")?O:[...O,"meridiem"],[o,O]),{view:ue,setValueAndGoToNextView:ie,focusedView:he}=Mt({view:K,views:Z,openTo:U,onViewChange:T,onChange:Y,focusedView:F,onFocusedViewChange:W}),de=at(R=>{ie(R,"finish","meridiem")}),{meridiemMode:me,handleMeridiemChange:pe}=wt(j,o,de,"finish"),xe=y.useCallback((R,i)=>{const v=ct(g,n),z=i==="hours"||i==="minutes"&&Z.includes("seconds"),le=({start:ae,end:re})=>!(p&&v(p,re)||M&&v(ae,M)||C&&v(ae,ee)||P&&v(ee,z?re:ae)),ge=(ae,re=1)=>{if(ae%re!==0)return!1;if($)switch(i){case"hours":return!$(n.setHours(j,ae),"hours");case"minutes":return!$(n.setMinutes(j,ae),"minutes");case"seconds":return!$(n.setSeconds(j,ae),"seconds");default:return!1}return!0};switch(i){case"hours":{const ae=ot(R,me,o),re=n.setHours(j,ae);if(n.getHours(re)!==ae)return!0;const Ie=n.setSeconds(n.setMinutes(re,0),0),mt=n.setSeconds(n.setMinutes(re,59),59);return!le({start:Ie,end:mt})||!ge(ae)}case"minutes":{const ae=n.setMinutes(j,R),re=n.setSeconds(ae,0),Ie=n.setSeconds(ae,59);return!le({start:re,end:Ie})||!ge(R,D)}case"seconds":{const ae=n.setSeconds(j,R);return!le({start:ae,end:ae})||!ge(R)}default:throw new Error("not supported")}},[o,j,g,M,me,p,D,$,n,C,P,ee,Z]),Ce=y.useCallback(R=>{switch(R){case"hours":return{onChange:i=>{const v=ot(i,me,o);ie(n.setHours(j,v),"finish","hours")},items:mo({now:ee,value:I,ampm:o,adapter:n,isDisabled:i=>xe(i,"hours"),timeStep:oe.hours,resolveAriaLabel:E.hoursClockNumberText,valueOrReferenceDate:j})};case"minutes":return{onChange:i=>{ie(n.setMinutes(j,i),"finish","minutes")},items:Gt({value:n.getMinutes(j),adapter:n,isDisabled:i=>xe(i,"minutes"),resolveLabel:i=>n.format(n.setMinutes(ee,i),"minutes"),timeStep:oe.minutes,hasValue:!!I,resolveAriaLabel:E.minutesClockNumberText})};case"seconds":return{onChange:i=>{ie(n.setSeconds(j,i),"finish","seconds")},items:Gt({value:n.getSeconds(j),adapter:n,isDisabled:i=>xe(i,"seconds"),resolveLabel:i=>n.format(n.setSeconds(ee,i),"seconds"),timeStep:oe.seconds,hasValue:!!I,resolveAriaLabel:E.secondsClockNumberText})};case"meridiem":{const i=Ne(n,"am"),v=Ne(n,"pm");return{onChange:pe,items:[{value:"am",label:i,isSelected:()=>!!I&&me==="am",isFocused:()=>!!j&&me==="am",ariaLabel:i},{value:"pm",label:v,isSelected:()=>!!I&&me==="pm",isFocused:()=>!!j&&me==="pm",ariaLabel:v}]}}default:throw new Error(`Unknown view: ${R} found.`)}},[ee,I,o,n,oe.hours,oe.minutes,oe.seconds,E.hoursClockNumberText,E.minutesClockNumberText,E.secondsClockNumberText,me,ie,j,xe,pe]),se=y.useMemo(()=>{if(!l)return Z;const R=Z.filter(i=>i!=="meridiem");return R.reverse(),Z.includes("meridiem")&&R.push("meridiem"),R},[l,Z]),ne=y.useMemo(()=>Z.reduce((R,i)=>H({},R,{[i]:Ce(i)}),{}),[Z,Ce]),{ownerState:Q}=Ye(),V=po(B);return s.jsx(fo,H({ref:a,className:fe(V.root,G),ownerState:Q,role:"group"},x,{children:se.map(R=>s.jsx(uo,{items:ne[R].items,onChange:ne[R].onChange,active:ue===R,autoFocus:d||he===R,disabled:q,readOnly:J,slots:f,slotProps:m,skipDisabled:te,"aria-label":E.selectViewText(R)},R))}))}),ft=({view:t,onViewChange:e,focusedView:a,onFocusedViewChange:n,views:l,value:r,defaultValue:o,referenceDate:c,onChange:d,className:f,classes:m,disableFuture:b,disablePast:k,minTime:h,maxTime:g,shouldDisableTime:M,minutesStep:p,ampm:C,ampmInClock:P,slots:D,slotProps:$,readOnly:N,disabled:K,sx:O,autoFocus:U,showViewSwitcher:T,disableIgnoringDatePartForTimeValidation:F,timezone:W})=>s.jsx(Kn,{view:t,onViewChange:e,focusedView:a&&Ke(a)?a:null,onFocusedViewChange:n,views:l.filter(Ke),value:r,defaultValue:o,referenceDate:c,onChange:d,className:f,classes:m,disableFuture:b,disablePast:k,minTime:h,maxTime:g,shouldDisableTime:M,minutesStep:p,ampm:C,ampmInClock:P,slots:D,slotProps:$,readOnly:N,disabled:K,sx:O,autoFocus:U,showViewSwitcher:T,disableIgnoringDatePartForTimeValidation:F,timezone:W}),xo=({view:t,onViewChange:e,focusedView:a,onFocusedViewChange:n,views:l,value:r,defaultValue:o,referenceDate:c,onChange:d,className:f,classes:m,disableFuture:b,disablePast:k,minTime:h,maxTime:g,shouldDisableTime:M,minutesStep:p,ampm:C,slots:P,slotProps:D,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:U,timeSteps:T,skipDisabled:F,timezone:W})=>s.jsx(ao,{view:t,onViewChange:e,focusedView:a&&Ke(a)?a:null,onFocusedViewChange:n,views:l.filter(Ke),value:r,defaultValue:o,referenceDate:c,onChange:d,className:f,classes:m,disableFuture:b,disablePast:k,minTime:h,maxTime:g,shouldDisableTime:M,minutesStep:p,ampm:C,slots:P,slotProps:D,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:U,timeStep:T==null?void 0:T.minutes,skipDisabled:F,timezone:W}),Zt=({view:t,onViewChange:e,focusedView:a,onFocusedViewChange:n,views:l,value:r,defaultValue:o,referenceDate:c,onChange:d,className:f,classes:m,disableFuture:b,disablePast:k,minTime:h,maxTime:g,shouldDisableTime:M,minutesStep:p,ampm:C,slots:P,slotProps:D,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:U,timeSteps:T,skipDisabled:F,timezone:W})=>s.jsx(bo,{view:t,onViewChange:e,focusedView:a&&as(a)?a:null,onFocusedViewChange:n,views:l.filter(Ke),value:r,defaultValue:o,referenceDate:c,onChange:d,className:f,classes:m,disableFuture:b,disablePast:k,minTime:h,maxTime:g,shouldDisableTime:M,minutesStep:p,ampm:C,slots:P,slotProps:D,readOnly:$,disabled:N,sx:K,autoFocus:O,disableIgnoringDatePartForTimeValidation:U,timeSteps:T,skipDisabled:F,timezone:W}),go=(t,e,a)=>a?e.filter(n=>!as(n)||n==="hours"):t?[...e,"meridiem"]:e,yo=(t,e)=>1440/((t.hours??1)*(t.minutes??5))<=e;function vo({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:a,views:n}){const l=t??24,r=H({hours:1,minutes:5,seconds:5},a),o=yo(r,l);return{thresholdToRenderTimeInASingleColumn:l,timeSteps:r,shouldRenderTimeInASingleColumn:o,views:go(e,n,o)}}const xs=y.forwardRef(function(e,a){var M,p;const n=Pe(),l=ms(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:r,views:o,timeSteps:c}=vo(l),d=r?xo:Zt,f=H({hours:d,minutes:d,seconds:d,meridiem:d},l.viewRenderers),m=l.ampmInClock??!0,k=((M=f.hours)==null?void 0:M.name)===Zt.name?o:o.filter(C=>C!=="meridiem"),h=H({},l,{ampmInClock:m,timeSteps:c,viewRenderers:f,format:ns(n,l),views:r?["hours"]:k,slots:H({field:us},l.slots),slotProps:H({},l.slotProps,{field:C=>{var P;return H({},Xt((P=l.slotProps)==null?void 0:P.field,C),os(l))},toolbar:H({hidden:!0,ampmInClock:m},(p=l.slotProps)==null?void 0:p.toolbar)})}),{renderPicker:g}=aa({ref:a,props:h,valueManager:Re,valueType:"time",validator:dt,steps:null});return g()});xs.propTypes={ampm:u.bool,ampmInClock:u.bool,autoFocus:u.bool,className:u.string,closeOnSelect:u.bool,defaultValue:u.object,disabled:u.bool,disableFuture:u.bool,disableIgnoringDatePartForTimeValidation:u.bool,disableOpenPicker:u.bool,disablePast:u.bool,enableAccessibleFieldDOMStructure:u.any,format:u.string,formatDensity:u.oneOf(["dense","spacious"]),inputRef:rs,label:u.node,localeText:u.object,maxTime:u.object,minTime:u.object,minutesStep:u.number,name:u.string,onAccept:u.func,onChange:u.func,onClose:u.func,onError:u.func,onOpen:u.func,onSelectedSectionsChange:u.func,onViewChange:u.func,open:u.bool,openTo:u.oneOf(["hours","meridiem","minutes","seconds"]),orientation:u.oneOf(["landscape","portrait"]),readOnly:u.bool,reduceAnimations:u.bool,referenceDate:u.object,selectedSections:u.oneOfType([u.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),u.number]),shouldDisableTime:u.func,skipDisabled:u.bool,slotProps:u.object,slots:u.object,sx:u.oneOfType([u.arrayOf(u.oneOfType([u.func,u.object,u.bool])),u.func,u.object]),thresholdToRenderTimeInASingleColumn:u.number,timeSteps:u.shape({hours:u.number,minutes:u.number,seconds:u.number}),timezone:u.string,value:u.object,view:u.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:u.shape({hours:u.func,meridiem:u.func,minutes:u.func,seconds:u.func}),views:u.arrayOf(u.oneOf(["hours","minutes","seconds"]).isRequired)};const gs=y.forwardRef(function(e,a){var f;const n=Pe(),l=ms(e,"MuiMobileTimePicker"),r=H({hours:ft,minutes:ft,seconds:ft},l.viewRenderers),o=l.ampmInClock??!1,c=H({},l,{ampmInClock:o,viewRenderers:r,format:ns(n,l),slots:H({field:us},l.slots),slotProps:H({},l.slotProps,{field:m=>{var b;return H({},Xt((b=l.slotProps)==null?void 0:b.field,m),os(l))},toolbar:H({hidden:!1,ampmInClock:o},(f=l.slotProps)==null?void 0:f.toolbar)})}),{renderPicker:d}=na({ref:a,props:c,valueManager:Re,valueType:"time",validator:dt,steps:null});return d()});gs.propTypes={ampm:u.bool,ampmInClock:u.bool,autoFocus:u.bool,className:u.string,closeOnSelect:u.bool,defaultValue:u.object,disabled:u.bool,disableFuture:u.bool,disableIgnoringDatePartForTimeValidation:u.bool,disableOpenPicker:u.bool,disablePast:u.bool,enableAccessibleFieldDOMStructure:u.any,format:u.string,formatDensity:u.oneOf(["dense","spacious"]),inputRef:rs,label:u.node,localeText:u.object,maxTime:u.object,minTime:u.object,minutesStep:u.number,name:u.string,onAccept:u.func,onChange:u.func,onClose:u.func,onError:u.func,onOpen:u.func,onSelectedSectionsChange:u.func,onViewChange:u.func,open:u.bool,openTo:u.oneOf(["hours","minutes","seconds"]),orientation:u.oneOf(["landscape","portrait"]),readOnly:u.bool,reduceAnimations:u.bool,referenceDate:u.object,selectedSections:u.oneOfType([u.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),u.number]),shouldDisableTime:u.func,slotProps:u.object,slots:u.object,sx:u.oneOfType([u.arrayOf(u.oneOfType([u.func,u.object,u.bool])),u.func,u.object]),timezone:u.string,value:u.object,view:u.oneOf(["hours","minutes","seconds"]),viewRenderers:u.shape({hours:u.func,minutes:u.func,seconds:u.func}),views:u.arrayOf(u.oneOf(["hours","minutes","seconds"]).isRequired)};const Co=["desktopModeMediaQuery"],lt=y.forwardRef(function(e,a){const n=we({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:l=Xs}=n,r=je(n,Co);return ra(l,{defaultMatches:!0})?s.jsx(xs,H({ref:a},r)):s.jsx(gs,H({ref:a},r))}),wo=({openmodal:t,isPunchIn:e,init:a,setisPunchIn:n,submitHandle:l,setopenmodal:r,isUpdate:o,isload:c,inp:d,setinp:f,setisUpdate:m})=>{const{department:b,employee:k}=yt(h=>h.user);return y.useEffect(()=>{},[b]),s.jsx(vt,{open:t,onClose:()=>r(!1),children:s.jsx("div",{className:"membermodal w-[500px]",children:s.jsxs("form",{onSubmit:l,children:[s.jsx("h2",{children:"Mark Attendance"}),s.jsx("span",{className:"modalcontent",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(ke,{sx:{width:"100%"},size:"small",children:[s.jsx(Se,{id:"demo-simple-select-helper-label",children:"Action"}),s.jsxs(Te,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:e,label:"Action",required:!0,onChange:h=>{n(h.target.value)},children:[s.jsx(A,{value:!0,children:"Punch In"}),s.jsx(A,{value:!1,children:"Punch Out"})]})]}),s.jsx(Fe,{dateAdapter:ze,children:s.jsx(ls,{slotProps:{textField:{size:"small"}},onChange:h=>{f({...d,date:h})},format:"DD-MM-YYYY",value:d==null?void 0:d.date,sx:{width:"100%"},label:"Select date",maxDate:_()})}),s.jsx(oa,{size:"small",fullWidth:!0,value:(k==null?void 0:k.find(h=>h._id===d.employeeId))||null,options:k.filter(h=>h.status!==!1)||[],getOptionLabel:h=>h.userid.name,onChange:(h,g)=>{f({...d,employeeId:g._id})},renderOption:(h,g)=>{const{key:M,...p}=h;return s.jsxs(Nt,{component:"li",sx:{display:"flex",alignItems:"center",gap:1},...p,children:[s.jsx(Jt,{src:es(g.profileimage,{format:"webp",width:100,height:100}),alt:g.userid.name,children:!g.profileimage&&s.jsx(Ms,{})}),s.jsxs(Nt,{className:" capitalize",children:[s.jsx(Ze,{variant:"body2",children:g.userid.name}),s.jsx(Ze,{variant:"caption",color:"text.secondary",children:g.designation})]})]},g._id)},renderInput:h=>s.jsx(Le,{...h,label:"Select Employee",required:!0})}),s.jsxs("div",{className:"flex gap-2 justify-between",children:[e?s.jsx(Fe,{dateAdapter:ze,children:s.jsx(lt,{disabled:["absent","leave"].includes(d.status),value:d.punchIn,slotProps:{textField:{size:"small"}},onChange:h=>{f({...d,punchIn:h})},sx:{width:"100%"},label:"Punch In"})}):s.jsx(Fe,{dateAdapter:ze,children:s.jsx(lt,{value:d.punchOut,slotProps:{textField:{size:"small"}},onChange:h=>{f({...d,punchOut:h})},sx:{width:"100%"},label:"Punch Out"})}),e&&s.jsxs(ke,{sx:{width:"100%"},size:"small",children:[s.jsx(Se,{id:"demo-simple-select-helper-label",children:"Status"}),s.jsxs(Te,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d.status,label:"Status",required:!0,onChange:h=>{f({...d,status:h.target.value})},children:[s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})]})]}),d.status=="leave"&&s.jsx(Le,{fullWidth:!0,required:!0,multiline:!0,onChange:h=>{f({...d,reason:h.target.value})},minRows:2,value:d.reason,label:"Reason",size:"small"}),s.jsxs("div",{className:"w-full flex gap-2",children:[s.jsx(Me,{size:"small",onClick:()=>{r(!1),m(!1),f(a)},variant:"outlined",children:" cancel"}),!o&&s.jsx(Me,{loading:c,loadingPosition:"end",endIcon:s.jsx(Ct,{}),variant:"contained",type:"submit",children:"Add"})]})]})})]})})})},ko=({openmodal:t,init:e,setopenmodal:a,isUpdate:n,isload:l,setinp:r,setisUpdate:o,dispatch:c})=>{var te,ce;const{department:d,branch:f,employee:m,attandence:b,profile:k}=yt(x=>x.user),[h,g]=y.useState([]),[M,p]=y.useState({}),[C,P]=y.useState("all"),[D,$]=y.useState("all"),[N,K]=y.useState(_()),[O,U]=y.useState({punchIn:null,punchOut:null,status:""}),T=y.useMemo(()=>m?m.filter(x=>{const I=x.status!==!1,L=C!=="all"?x.branchId===C:!0,S=D!=="all"?x.department.department===D:!0;return L&&S&&I}):[],[m,C,D]),F=y.useMemo(()=>!N||!b?[]:b.filter(x=>_(x.date).isSame(_(N),"day")),[N,b]);y.useEffect(()=>{if(!m)return;const x={},I=[];m.forEach(L=>{const S=F.find(E=>E.employeeId._id===L._id);S?(I.push(L._id),x[L._id]={punchIn:S.punchIn?_(S.punchIn).format("HH:mm"):null,punchOut:S.punchOut?_(S.punchOut).format("HH:mm"):null,status:S.status||"absent"}):x[L._id]={punchIn:null,punchOut:null,status:"absent"}}),p(x),g(I)},[m,F]),y.useEffect(()=>{!O||Object.keys(O).length===0||(p(x=>{const I={...x};return T.forEach(L=>{I[L._id]={...I[L._id],...O.punchIn&&{punchIn:O.punchIn},...O.punchOut&&{punchOut:O.punchOut},...O.status&&{status:O.status}}}),I}),g(T.map(x=>x._id)))},[O,T]);const W=y.useCallback(x=>{g(I=>I.includes(x)?I.filter(L=>L!==x):[...I,x])},[]),G=y.useCallback(x=>{x.target.checked?g(T.map(I=>I._id)):g([])},[T]),B=y.useCallback((x,I,L)=>{p(S=>({...S,[x]:{...S[x],[I]:L,status:["weekly off","holiday","half day"].includes(S[x].status)?S[x].status:"present"}})),g(S=>S.includes(x)?S:[...S,x])},[]),q=y.useCallback((x,I)=>{p(L=>({...L,[x]:{...L[x],status:I}})),g(L=>L.includes(x)?L:[...L,x])},[]),J=y.useCallback(async x=>{if(x.preventDefault(),h.length===0){qe.info("Please Mark at least one employee.");return}const I=h.map(L=>{const S=M[L];if(!S)return null;const{punchIn:E,punchOut:ee,status:oe}=S,j=m.find(Z=>Z._id===L);if(!j)return null;const Y={employeeId:L,empId:j.empId,status:oe,branchId:j.branchId,date:N.toISOString()};return E&&(Y.punchIn=new Date(`${N.format("YYYY-MM-DD")}T${E}`).toISOString()),ee&&(Y.punchOut=new Date(`${N.format("YYYY-MM-DD")}T${ee}`).toISOString()),Y}).filter(Boolean);if(I.length===0){qe.info("No valid attendance data to submit.");return}try{o(!0);const L=await fetch("/api/bulkMarkAttendance",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("emstoken")}`,"Content-Type":"application/json"},body:JSON.stringify({attendanceRecords:I})});if(!L.ok)throw new Error("Failed to submit attendance");await L.json(),c(ts()),g([]),K(_()),a(!1),o(!1),qe.success("Attendance marked successfully.")}catch(L){console.error("Bulk Attendance Error:",L),alert("Failed to mark attendance. Please try again."),o(!1)}},[h,M,m,N,c,o,a]);return s.jsx(vt,{open:t,outside:!1,onClose:()=>a(!1),children:s.jsx("div",{className:"membermodal w-[600px] md:w-[800px]",children:s.jsxs("form",{onSubmit:J,children:[s.jsx("div",{className:"modalhead",children:"Bulk Mark Attendance"}),s.jsx("span",{className:"modalcontent overflow-x-auto",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"w w-full flex justify-between gap-2",children:[s.jsxs(ke,{size:"small",fullWidth:!0,children:[s.jsx(Se,{children:"Select Branch"}),s.jsxs(Te,{label:"Select Branch",value:C,onChange:x=>P(x.target.value),children:[s.jsx(A,{value:"all",children:s.jsx("em",{children:"All"})}),(k==null?void 0:k.role)==="manager"?(te=f==null?void 0:f.filter(x=>{var I;return(I=k==null?void 0:k.branchIds)==null?void 0:I.includes(x._id)}))==null?void 0:te.map(x=>s.jsx(A,{value:x._id,children:x.name},x._id)):f==null?void 0:f.map(x=>s.jsxs(A,{value:x._id,children:[" ",x.name," "]},x._id))]})]}),s.jsxs(ke,{size:"small",disabled:C==="all",fullWidth:!0,children:[s.jsx(Se,{children:"Select Department"}),s.jsxs(Te,{label:"Select Department",value:D,onChange:x=>$(x.target.value),children:[s.jsx(A,{value:"all",children:s.jsx("em",{children:"All"})}),(ce=C!=="all"?d.filter(x=>x.branchId._id===C):d)==null?void 0:ce.map((x,I)=>s.jsx(A,{value:x._id,children:x.department},I))]})]}),s.jsx(Fe,{dateAdapter:ze,children:s.jsx(ls,{slotProps:{textField:{size:"small"}},onChange:x=>K(x),format:"DD-MM-YYYY",value:N,sx:{width:"100%"},label:"Select date",maxDate:_()})})]}),s.jsxs("div",{className:"relative border-dashed border border-primary rounded-md w-full grid grid-cols-1 md:grid-cols-3 gap-4 p-2 pt-4",children:[s.jsx("span",{className:"absolute top-0 left-3 -translate-y-1/2 bg-white px-2 text-sm font-medium text-primary",children:"Apply To All Fields"}),s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 text-left",children:"Punch In"}),s.jsx("input",{type:"time",className:"w-full form-input outline-0 border border-primary border-dashed p-2 rounded",value:O.punchIn||"",onChange:x=>U({...O,punchIn:x.target.value})})]}),s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 text-left",children:"Punch Out"}),s.jsx("input",{type:"time",className:"w-full form-input outline-0 border border-primary border-dashed p-2 rounded",value:O.punchOut||"",onChange:x=>U({...O,punchOut:x.target.value})})]}),s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 text-left",children:"Status"}),s.jsx(ke,{size:"small",className:"w-full",children:s.jsxs(Te,{value:O.status,onChange:x=>U({...O,status:x.target.value}),className:"w-full",children:[s.jsx(A,{value:"",children:"Select Status"}),s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly Off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})})]})]}),s.jsx("div",{className:"border border-dashed border-primary rounded w-full",children:s.jsx(Ta,{component:js,children:s.jsxs(da,{size:"small",children:[s.jsx(Pa,{children:s.jsxs(Ht,{children:[s.jsx(De,{padding:"checkbox",children:s.jsx(At,{onChange:G,checked:h.length>0&&h.length===T.length,indeterminate:h.length>0&&h.length<T.length})}),s.jsx(De,{children:"Employee Name"}),s.jsx(De,{children:"Punch In"}),s.jsx(De,{children:"Punch Out"}),s.jsx(De,{children:"Status"})]})}),s.jsx(ba,{children:T==null?void 0:T.map(x=>{var I,L,S;return s.jsxs(Ht,{children:[s.jsx(De,{padding:"checkbox",children:s.jsx(At,{checked:h.includes(x._id),onChange:()=>W(x._id)})}),s.jsx(De,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jt,{alt:x.userid.name,src:es(x.profileimage,{format:"webp",width:100,height:100}),sx:{width:30,height:30}}),s.jsx(Ze,{variant:"body2",children:x.userid.name})]})}),s.jsx(De,{children:s.jsx("input",{type:"time",className:"form-input outline-0 border-1 border-primary border-dashed p-1 rounded",value:((I=M[x._id])==null?void 0:I.punchIn)||"",onChange:E=>B(x._id,"punchIn",E.target.value)})}),s.jsx(De,{children:s.jsx("input",{type:"time",className:"form-input outline-0 border-1 border-primary border-dashed p-1 rounded",value:((L=M[x._id])==null?void 0:L.punchOut)||"",onChange:E=>B(x._id,"punchOut",E.target.value)})}),s.jsx(De,{children:s.jsx(ke,{fullWidth:!0,size:"small",children:s.jsxs(Te,{value:((S=M[x._id])==null?void 0:S.status)??"",onChange:E=>q(x._id,E.target.value),children:[s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})})})]},x._id)})})]})})})]})}),s.jsxs("div",{className:"modalfooter",children:[s.jsx(Me,{size:"small",onClick:()=>{a(!1),o(!1),r(e)},variant:"outlined",children:"Cancel"}),s.jsx(Me,{loading:l,loadingPosition:"end",endIcon:s.jsx(Ct,{}),variant:"contained",type:"submit",children:n?"Update":"Add"})]})]})})})},To=({openmodal:t,setisload:e,dispatch:a,isPunchIn:n,init:l,setisPunchIn:r,submitHandle:o,setopenmodal:c,isUpdate:d,isload:f,inp:m,setinp:b,setisUpdate:k})=>{const h=async g=>{g.preventDefault();const M="/api/editattandence";try{e(!0);const p=localStorage.getItem("emstoken"),C=await Ds.post(M,{...m},{headers:{Authorization:`Bearer ${p}`}});return qe.success(C.data.message,{autoClose:1800}),b(l),c(!1),a(ts()),!0}catch(p){console.log(p),p.response?qe.warn(p.response.data.message,{autoClose:2700}):p.request?console.error("No response from server:",p.request):console.error("Error:",p.message)}finally{e(!1)}};return y.useEffect(()=>{["weekly off","holiday","half day"].includes(m.status)||(m.punchIn||m.punchOut)&&b({...m,status:"present"})},[m.punchIn]),s.jsx(vt,{open:t,onClose:()=>c(!1),children:s.jsx("div",{className:"membermodal",children:s.jsxs("form",{onSubmit:h,children:[s.jsx("h2",{children:"Edit Attendance"}),s.jsx("span",{className:"modalcontent",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Le,{fullWidth:!0,InputLabelProps:{shrink:!0},value:m.date,label:"Attandence Date",size:"small"}),s.jsx(Le,{fullWidth:!0,value:m.employeeName,label:"Name",size:"small"}),s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx(Fe,{dateAdapter:ze,children:s.jsx(lt,{value:m.punchIn,disabled:["absent","leave"].includes(m.status),slotProps:{textField:{size:"small"}},onChange:g=>{b({...m,punchIn:g})},sx:{width:"100%"},label:"Punch In"})}),s.jsx(Fe,{dateAdapter:ze,children:s.jsx(lt,{value:m.punchOut,disabled:["absent","leave"].includes(m.status),slotProps:{textField:{size:"small"}},onChange:g=>{b({...m,punchOut:g})},sx:{width:"100%"},label:"Punch Out"})}),s.jsxs(ke,{sx:{width:"100%"},size:"small",children:[s.jsx(Se,{id:"demo-simple-select-helper-label",children:"Status"}),s.jsxs(Te,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:m.status,name:"status",label:"Status",required:!0,onChange:g=>{b({...m,status:g.target.value})},children:[s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})]})]}),m.status=="leave"&&s.jsx(Le,{fullWidth:!0,multiline:!0,required:!0,onChange:g=>{b({...m,leaveReason:g.target.value})},minRows:2,value:m.leaveReason,label:"Reason",size:"small"}),s.jsxs("div",{className:"w-full flex gap-2",children:[s.jsx(Me,{size:"small",onClick:()=>{c(!1),k(!1),b(l)},variant:"outlined",children:" cancel"}),s.jsx(Me,{loading:f,loadingPosition:"end",endIcon:s.jsx(Ct,{}),variant:"contained",type:"submit",children:"Update"})]})]})})]})})})};_.extend(la);const $o=()=>{var R;const[t,e]=y.useState(!1),[a,n]=y.useState(!1),[l,r]=y.useState(!1),[o,c]=y.useState(!1),[d,f]=y.useState(!0),[m,b]=y.useState(!1),[k,h]=y.useState(!1),{branch:g,attandence:M,department:p,company:C,holidays:P,profile:D}=yt(i=>i.user),[$,N]=y.useState([]),[K,O]=y.useState([]),U=Ss(),T=Ls(),[F,W]=y.useState({column:null,direction:null}),[G,B]=y.useState(!1),q={employeeId:"",date:_(),punchIn:null,punchOut:null,status:"",reason:""},J={id:"",employeeName:"",date:_(),punchIn:null,punchOut:null,status:"",leaveid:"",leaveReason:""};y.useEffect(()=>{},[$]);const[te,ce]=y.useState(q),[x,I]=y.useState(J),L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];y.useEffect(()=>{if(!P)return;const i=[];P.forEach(v=>{let z=_(v.fromDate);const le=v.toDate?_(v.toDate):z;for(;z.isSameOrBefore(le,"day");)i.push(z.format("DD/MM/YYYY")),z=z.add(1,"day")}),O(i)},[P]);const S=y.useCallback(i=>{const v=Math.floor(i/60),z=i%60;return`${v}h ${z}m`},[]),E=ht("attandence",2),ee=ht("attandence",3),oe=ht("attandence",4),j=y.useMemo(()=>{if(!M)return[];const i=_().startOf("day");return M.filter(v=>!_(v.date).isAfter(i,"day"))},[M]),[Y,Z]=y.useState({date:"",branch:"all",departmente:"all",employee:"",status:"all",month:"all",year:"all"}),ue=y.useMemo(()=>{const i=_();return j.filter(v=>{var St,Pt,Ot,It;const z=_(v.date,"DD MMM, YYYY");if(z.isAfter(i,"day"))return!1;const le=!Y.date||z.isSame(Y.date,"day"),ge=Y.month==="all"||z.month()===Number(Y.month),ae=Y.year==="all"||z.year()===Number(Y.year),re=Y.branch==="all"||v.branchId===Y.branch,Ie=Y.departmente==="all"||((St=v==null?void 0:v.employeeId)==null?void 0:St.department)===Y.departmente,mt=Y.status==="all"||v.status===Y.status,ys=!Y.employee.trim()||((It=(Ot=(Pt=v==null?void 0:v.employeeId)==null?void 0:Pt.userid)==null?void 0:Ot.name)==null?void 0:It.toLowerCase().includes(Y.employee.trim().toLowerCase()));return le&&re&&Ie&&mt&&ys&&ge&&ae})},[j,Y]),ie=y.useMemo(()=>F.column?[...ue].sort((i,v)=>{const z=i[F.column],le=v[F.column];return F.direction==="asc"?z>le?1:-1:z<le?1:-1}):ue,[ue,F]),he=()=>{let i=$.map(v=>v._id);swal({title:`Are you sure you want to Delete these ${i.length} record?`,icon:"warning",buttons:!0,dangerMode:!0}).then(async v=>{v&&(await Rt({attandanceId:i,setselectedRows:N,setisload:r,dispatch:U}),ie.filter(z=>!i.includes(z._id)),N([]))})},de=y.useCallback((i,v)=>{W({column:i.id,direction:v})},[]),me=y.useCallback(({selectedRows:i})=>{N(i)},[]),pe=i=>{var v,z,le,ge;I({id:i._id,employeeName:((z=(v=i==null?void 0:i.employeeId)==null?void 0:v.userid)==null?void 0:z.name)||"",date:_(i.date).format("DD MMM, YYYY"),punchIn:i.punchIn?_(i.punchIn):null,punchOut:i.punchOut?_(i.punchOut):null,status:i.status||"",leaveid:(le=i==null?void 0:i.leave)==null?void 0:le._id,leaveReason:(ge=i==null?void 0:i.leave)==null?void 0:ge.reason}),b(!0)},xe=async i=>{swal({title:"Are you sure you want to Delete this record?",icon:"warning",buttons:!0,dangerMode:!0}).then(async v=>{v&&(await Rt({attandanceId:[i],setisload:r,dispatch:U}),N([]))})},Ce=[{when:i=>i.remarks,style:{backgroundColor:"rgba(21, 233, 233, 0.1)",color:"teal"}}],se=()=>{const i=["S.no","Name","Date","Punch In","Punch Out","Status","Working Minutes"],v=ie.map((re,Ie)=>[Ie+1,re.rawname,_(re.date).format("YYYY-MM-DD"),re.rawpunchIn,re.rawpunchOut,re.status,re.rawworkingHour]),z=[i,...v].map(re=>re.join(",")).join(`
`),le=new Blob([z],{type:"text/csv"}),ge=URL.createObjectURL(le),ae=document.createElement("a");ae.href=ge,ae.download="Attendance List.csv",ae.click(),URL.revokeObjectURL(ge)},ne=async i=>{i.preventDefault(),await Vs({isPunchIn:d,inp:te,setisload:r,dispatch:U})&&(c(!1),ce(q))},[Q,V]=y.useState(Y.employee||"");return y.useEffect(()=>{if(Q===Y.employee)return;B(!0);const i=setTimeout(()=>{Z(v=>({...v,employee:Q})),B(!1)},700);return()=>clearTimeout(i)},[Q,Z]),s.jsxs("div",{className:"p-1 max-w-6xl mx-auto ",children:[s.jsxs("div",{className:"bg-white flex flex-col rounded mb-4 shadow-xl  p-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap",children:[s.jsxs("div",{className:"flex w-full md:w-auto p-1 items-center gap-2 rounded bg-primary text-white",children:[s.jsx("p",{onClick:()=>e(!1),className:`px-2 text-center flex-1 md:flex-none py-1 rounded cursor-pointer ${!t&&"text-primary  bg-white"}`,children:"View Attendance"}),E&&s.jsx("p",{onClick:()=>e(!0),className:`px-2 text-center flex-1 md:flex-none py-1 rounded cursor-pointer ${t&&"text-primary  bg-white"}`,children:"Mark Attendance"})]}),s.jsxs("div",{className:"flex w-full md:w-[320px]  mt-1 md:mt-0  gap-2",children:[$.length>0&&s.jsxs(Me,{className:"flex-1",variant:"contained",onClick:he,color:"error",startIcon:s.jsx(Fs,{}),children:["Delete (",$.length,")"]}),s.jsx(Me,{onClick:se,className:"flex-1",variant:"outlined",startIcon:s.jsx(Ps,{}),children:"Export"})]})]}),s.jsx("div",{className:"flex items-center gap-4 ",children:t?s.jsxs("div",{className:"flex p-1 items-center gap-2",children:[s.jsx(Me,{variant:"contained",onClick:()=>c(!0),startIcon:s.jsx(Os,{}),children:"Mark Indivisual"}),s.jsx(Me,{variant:"outlined",onClick:()=>h(!0),startIcon:s.jsx(zs,{}),children:"Mark Bulk"})]}):s.jsxs("div",{className:"border-1 border-gray-400 rounded p-3 md:p-0 md:border-0 grid grid-cols-2 md:grid-cols-7 gap-2 mt-1 w-full md:w-fit",children:[s.jsx(Le,{size:"small",type:"date",className:"col-span-2 md:col-span-1 md:w-[150px]",value:Y.date,onChange:i=>Z({...Y,date:i.target.value}),label:"Select Date",InputLabelProps:{shrink:!0}}),s.jsxs(ke,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Se,{children:"Branch"}),s.jsxs(Te,{value:Y.branch,input:s.jsx(_e,{startAdornment:s.jsx(Ae,{position:"start",children:s.jsx(Ue,{fontSize:"small"})}),label:"Branch"}),onChange:i=>Z({...Y,branch:i.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),(D==null?void 0:D.role)==="manager"?(R=g==null?void 0:g.filter(i=>{var v;return(v=D==null?void 0:D.branchIds)==null?void 0:v.includes(i._id)}))==null?void 0:R.map(i=>s.jsx(A,{value:i._id,children:i.name},i._id)):g==null?void 0:g.map(i=>s.jsxs(A,{value:i._id,children:[" ",i.name," "]},i._id))]})]}),s.jsxs(ke,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Se,{children:"Department"}),s.jsxs(Te,{value:Y.departmente,disabled:Y.branch==="all",input:s.jsx(_e,{startAdornment:s.jsx(Ae,{position:"start",children:s.jsx(Ue,{fontSize:"small"})}),label:"Department"}),onChange:i=>Z({...Y,departmente:i.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),p==null?void 0:p.filter(i=>{var v;return((v=i.branchId)==null?void 0:v._id)===Y.branch}).map(i=>s.jsx(A,{value:i._id,children:i.department},i._id))]})]}),s.jsxs(ke,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Se,{children:"Status"}),s.jsxs(Te,{value:Y.status,input:s.jsx(_e,{startAdornment:s.jsx(Ae,{position:"start",children:s.jsx(Ue,{fontSize:"small"})}),label:"Status"}),onChange:i=>Z({...Y,status:i.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),s.jsx(A,{value:"present",children:"Present"}),s.jsx(A,{value:"leave",children:"Leave"}),s.jsx(A,{value:"absent",children:"Absent"}),s.jsx(A,{value:"weekly off",children:"Weekly off"}),s.jsx(A,{value:"holiday",children:"Holiday"}),s.jsx(A,{value:"half day",children:"Half Day"})]})]}),s.jsxs(ke,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Se,{children:"Month"}),s.jsxs(Te,{value:Y.month,input:s.jsx(_e,{startAdornment:s.jsx(Ae,{position:"start",children:s.jsx(Ue,{fontSize:"small"})}),label:"Branch"}),label:"Month",onChange:i=>Z({...Y,month:i.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),L.map((i,v)=>s.jsx(A,{value:v,children:i},v))]})]}),s.jsxs(ke,{size:"small",className:"col-span-1 md:w-[150px]",children:[s.jsx(Se,{children:"Year"}),s.jsxs(Te,{value:Y.year,input:s.jsx(_e,{startAdornment:s.jsx(Ae,{position:"start",children:s.jsx(Ue,{fontSize:"small"})}),label:"Branch"}),label:"Year",onChange:i=>Z({...Y,year:i.target.value}),children:[s.jsx(A,{value:"all",children:"All"}),Array.from({length:5},(i,v)=>_().year()-2+v).map(i=>s.jsx(A,{value:i,children:i},i))]})]}),s.jsx(Le,{size:"small",className:"col-span-1 md:w-[150px]",value:Q,onChange:i=>V(i.target.value),InputProps:{startAdornment:s.jsx(Ae,{position:"start",children:s.jsx(Rs,{})}),endAdornment:s.jsx(Ae,{position:"end",children:G?s.jsx(Is,{size:18}):Q&&s.jsx(gt,{onClick:()=>V(""),edge:"end",size:"small",children:s.jsx(Ns,{})})})},label:"Search Employee"})]})})]}),s.jsx("div",{className:"capitalize ",children:s.jsx(As,{columns:Ys({branch:g,company:C,holidaydate:K,minutesinhours:S,canEdit:ee,canDelete:oe,edite:pe,deletee:xe}),data:ie,pagination:!0,onSort:de,selectableRows:!0,customStyles:T,conditionalRowStyles:Ce,onSelectedRowsChange:me,selectedRows:$,highlightOnHover:!0,paginationPerPage:20,noDataComponent:s.jsxs("div",{className:"flex items-center gap-2 py-6 text-center text-gray-600 text-sm",children:[s.jsx(Hs,{className:"text-xl"})," No records found."]})})}),s.jsx(wo,{isPunchIn:d,setisPunchIn:f,submitHandle:ne,init:q,openmodal:o,inp:te,setinp:ce,setopenmodal:c,isUpdate:a,setisUpdate:n,isload:l}),s.jsx(To,{dispatch:U,setisload:r,submitHandle:ne,init:J,openmodal:m,inp:x,setinp:I,setopenmodal:b,isUpdate:a,setisUpdate:n,isload:l}),s.jsx(ko,{isPunchIn:d,dispatch:U,setisPunchIn:f,submitHandle:ne,init:q,openmodal:k,inp:te,setinp:ce,setopenmodal:h,isUpdate:a,setisUpdate:n,isload:l})]})};export{$o as default};
