import{r as a,g as h,j as e,A as j,x as u}from"./index-CjW4X5Ur.js";import{G as i}from"./index-D2ZZ5HYQ.js";import"./dayjs.min-Dpf_s3do.js";const c={1:"Read",2:"Write",3:"Update",4:"Delete"},y=()=>{const[n,b]=a.useState(!1),[r,o]=a.useState(!1),{profile:l}=h(t=>t.user),[s,x]=a.useState(null);return a.useEffect(()=>{l&&x(l)},[l]),e.jsx("div",{className:"p-1 md:p-4",children:n?e.jsxs("div",{className:"w-full h-[300px] flex gap-5 flex-col justify-center items-center overflow-auto bg-white",children:[e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"animate-spin",style:{animationDuration:"2.5s"},size:50,color:"teal"}),e.jsx(i,{className:"absolute -bottom-4 left-0 animate-spin",style:{animationDuration:"3s"},size:20,color:"teal"})]}),e.jsx("p",{className:"text-teal-600",children:"loading..."})]}):e.jsxs("div",{className:"w-full mx-auto bg-white overflow-auto shadow rounded-lg p-1 md:p-4",children:[e.jsxs("div",{className:" flex gap-3 justify-start md:justify-start",children:[e.jsx("div",{className:"w-20 h-20 flex-shrink-0 bg-gray-200 rounded-full border-2 border-teal-500 border-dashed p-[2px] flex items-center justify-center",children:e.jsx(j,{sx:{width:72,height:72},alt:s==null?void 0:s.name,src:s==null?void 0:s.profileImage})}),e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-xl capitalize font-bold text-gray-800 break-words",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s==null?void 0:s.role}),e.jsx("div",{className:"mt-3 space-y-1 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2 break-words",children:[e.jsx(u,{className:"text-gray-500"})," ",(s==null?void 0:s.email)||"N/A"]})})]})]}),e.jsxs("div",{children:[(s==null?void 0:s.role)!=="superadmin"&&e.jsx("button",{onClick:()=>o(!r),className:"text-blue-600 text-sm mt-3 cursor-pointer hover:text-blue-800",children:r?"Hide Permissions":"View Permissions"}),r&&e.jsxs("div",{className:"text-sm mt-3 overflow-x-auto",children:[e.jsx("span",{className:"font-semibold",children:"Permissions:"}),e.jsxs("table",{className:"table-auto border-collapse border border-gray-300 mt-2 text-xs w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Module"}),Object.values(c).map(t=>e.jsx("th",{className:"border border-gray-300 px-2 py-1",children:t},t))]})}),e.jsx("tbody",{children:Object.entries((s==null?void 0:s.permissions)||{}).map(([t,m])=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 py-1 font-semibold",children:t}),Object.keys(c).map(d=>e.jsx("td",{className:"border border-gray-300 px-2 py-1 text-center",children:m.includes(Number(d))?"âœ…":"-"},d))]},t))})]})]})]})]})})};export{y as default};
