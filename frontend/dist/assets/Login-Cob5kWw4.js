import{r as l,u as x,a as h,j as e,T as p,b as n,B as v,c as w,y as d,s as j,d as b}from"./index-CcdprHkT.js";const N=()=>{const[a,u]=l.useState(""),[r,m]=l.useState(""),[c,o]=l.useState(!1),i=x();let f=h();const g=async t=>{if(t.preventDefault(),!a||!r){alert("Please fill in both fields");return}try{o(!0);const s=await w.post("/api/signin",{email:a,password:r});return d.success(s.data.message,{autoClose:1200}),localStorage.setItem("emstoken",s.data.token),i(j(!0)),i(b(s.data.user)),f("/dashboard")}catch(s){s.response?d.warn(s.response.data.message,{autoClose:1200}):s.request?console.error("No response from server:",s.request):console.error("Error:",s.message)}finally{o(!1)}};return e.jsx("div",{className:"h-screen w-screen flex items-start md:items-center justify-center bg-gradient-to-b from-green-200 to-white p-4",children:e.jsxs("div",{className:"flex mt-4 md:mt-0 flex-col md:flex-row items-center md:items-stretch shadow-lg bg-white rounded-xl overflow-hidden w-full max-w-fit",children:[e.jsx("div",{className:"w-full md:w-[350px] h-[200px] md:h-[400px] flex-shrink-0",children:e.jsx("img",{src:"https://res.cloudinary.com/dusxlxlvm/image/upload/v1756013721/ems/assets/10782895_19199299_1_q2oxsf.svg",alt:"Login Illustration",className:"w-full h-full object-contain md:object-cover"})}),e.jsx("div",{className:"flex items-center justify-center w-full md:w-[300px] p-6",children:e.jsx("div",{className:"w-full",children:e.jsxs("form",{onSubmit:g,children:[e.jsx(p,{variant:"h5",textAlign:"center",gutterBottom:!0,className:"mb-4",children:"Login"}),e.jsx(n,{label:"Email",type:"email",fullWidth:!0,required:!0,margin:"normal",value:a,onChange:t=>u(t.target.value)}),e.jsx(n,{label:"Password",type:"password",fullWidth:!0,required:!0,margin:"normal",value:r,onChange:t=>m(t.target.value)}),e.jsx(v,{type:"submit",variant:"contained",loading:c,loadingPosition:"start",fullWidth:!0,sx:{marginTop:2},children:"Login"})]})})})]})})};export{N as default};
